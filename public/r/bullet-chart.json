{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "bullet-chart",
  "type": "registry:ui",
  "title": "Bullet Chart",
  "description": "A versatile bullet chart component for comparing actual values against targets with qualitative ranges. Includes horizontal, vertical, compact, interactive, legend, and custom color variants.",
  "dependencies": [
    "recharts"
  ],
  "files": [
    {
      "path": "registry/ruixenui/bullet-chart.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ResponsiveContainer,\n  Cell,\n  ReferenceLine,\n} from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport interface BulletDataItem {\n  name: string\n  actual: number\n  target: number\n  ranges: [number, number, number] // [poor, satisfactory, good]\n}\n\nexport type TooltipIndicator = \"dot\" | \"line\" | \"dashed\"\n\nexport interface BulletChartBaseProps {\n  data: BulletDataItem[]\n  className?: string\n  showTooltip?: boolean\n  tooltipIndicator?: TooltipIndicator\n  valueFormatter?: (value: number) => string\n}\n\n// ============================================================================\n// Color Palette (shadcn style - neutral/blue theme)\n// ============================================================================\n\nconst RANGE_COLORS = [\n  \"hsl(220 9% 78%)\", // Poor - lightest\n  \"hsl(220 9% 56%)\", // Satisfactory - medium\n  \"hsl(220 9% 36%)\", // Good - darkest\n]\n\nconst ACTUAL_COLOR = \"#2b7fff\"\nconst TARGET_COLOR = \"hsl(220 9% 20%)\"\n\n// ============================================================================\n// Utility Functions\n// ============================================================================\n\nfunction defaultValueFormatter(value: number): string {\n  if (Math.abs(value) >= 1000000) {\n    return `${(value / 1000000).toFixed(1)}M`\n  }\n  if (Math.abs(value) >= 1000) {\n    return `${(value / 1000).toFixed(1)}K`\n  }\n  return value.toLocaleString()\n}\n\n// ============================================================================\n// Custom Tooltip Component\n// ============================================================================\n\ninterface ChartTooltipProps {\n  active?: boolean\n  payload?: Array<{\n    name: string\n    value: number\n    dataKey: string\n    payload: BulletDataItem\n  }>\n  indicator?: TooltipIndicator\n  valueFormatter: (value: number) => string\n}\n\nfunction ChartTooltip({\n  active,\n  payload,\n  indicator = \"dot\",\n  valueFormatter,\n}: ChartTooltipProps) {\n  if (!active || !payload?.length) return null\n\n  const data = payload[0]?.payload\n  if (!data) return null\n\n  const items = [\n    { name: \"Actual\", value: data.actual, color: ACTUAL_COLOR },\n    { name: \"Target\", value: data.target, color: TARGET_COLOR },\n    { name: \"Good\", value: data.ranges[2], color: RANGE_COLORS[2] },\n    { name: \"Satisfactory\", value: data.ranges[1], color: RANGE_COLORS[1] },\n    { name: \"Poor\", value: data.ranges[0], color: RANGE_COLORS[0] },\n  ]\n\n  return (\n    <div className=\"rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\">\n      <div className=\"mb-1.5 font-medium text-foreground\">{data.name}</div>\n      <div className=\"grid gap-1.5\">\n        {items.map((item, index) => (\n          <div\n            key={index}\n            className={cn(\n              \"flex w-full items-stretch gap-2\",\n              indicator === \"dot\" && \"items-center\"\n            )}\n          >\n            <div\n              className={cn(\"shrink-0 rounded-[2px]\", {\n                \"h-2.5 w-2.5\": indicator === \"dot\",\n                \"w-1 self-stretch\": indicator === \"line\",\n                \"w-0 border-[1.5px] border-dashed bg-transparent self-stretch\":\n                  indicator === \"dashed\",\n              })}\n              style={{\n                backgroundColor: indicator !== \"dashed\" ? item.color : undefined,\n                borderColor: indicator === \"dashed\" ? item.color : undefined,\n              }}\n            />\n            <div className=\"flex flex-1 justify-between items-center gap-4\">\n              <span className=\"text-muted-foreground\">{item.name}</span>\n              <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                {valueFormatter(item.value)}\n              </span>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n\n// ============================================================================\n// Legend Component\n// ============================================================================\n\ninterface ChartLegendProps {\n  className?: string\n  showRanges?: boolean\n}\n\nfunction ChartLegend({ className, showRanges = true }: ChartLegendProps) {\n  const items = [\n    { name: \"Actual\", color: ACTUAL_COLOR },\n    { name: \"Target\", color: TARGET_COLOR },\n    ...(showRanges\n      ? [\n          { name: \"Good\", color: RANGE_COLORS[2] },\n          { name: \"Satisfactory\", color: RANGE_COLORS[1] },\n          { name: \"Poor\", color: RANGE_COLORS[0] },\n        ]\n      : []),\n  ]\n\n  return (\n    <div className={cn(\"flex items-center justify-center gap-4 flex-wrap\", className)}>\n      {items.map((item, index) => (\n        <div key={index} className=\"flex items-center gap-1.5\">\n          <div\n            className=\"h-2.5 w-2.5 shrink-0 rounded-[2px]\"\n            style={{ backgroundColor: item.color }}\n          />\n          <span className=\"text-sm text-muted-foreground\">{item.name}</span>\n        </div>\n      ))}\n    </div>\n  )\n}\n\n// ============================================================================\n// Transform data for stacked bar chart representation\n// ============================================================================\n\nfunction transformBulletData(data: BulletDataItem[]) {\n  return data.map((item) => ({\n    ...item,\n    range0: item.ranges[0],\n    range1: item.ranges[1] - item.ranges[0],\n    range2: item.ranges[2] - item.ranges[1],\n  }))\n}\n\n// ============================================================================\n// 1. Bullet Chart - Default (Horizontal)\n// ============================================================================\n\ninterface BulletChartProps extends BulletChartBaseProps {\n  barSize?: number\n  actualBarSize?: number\n}\n\nfunction BulletChart({\n  data,\n  className,\n  showTooltip = true,\n  tooltipIndicator = \"dot\",\n  valueFormatter = defaultValueFormatter,\n  barSize = 32,\n  actualBarSize = 12,\n}: BulletChartProps) {\n  const chartData = transformBulletData(data)\n  const maxValue = Math.max(...data.map((d) => d.ranges[2]))\n\n  return (\n    <div className={cn(\"w-full\", className)}>\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <BarChart\n          data={chartData}\n          layout=\"vertical\"\n          margin={{ top: 10, right: 30, bottom: 10, left: 80 }}\n          barCategoryGap=\"20%\"\n        >\n          <XAxis\n            type=\"number\"\n            domain={[0, maxValue]}\n            tickLine={false}\n            axisLine={false}\n            tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n            tickFormatter={valueFormatter}\n          />\n          <YAxis\n            type=\"category\"\n            dataKey=\"name\"\n            tickLine={false}\n            axisLine={false}\n            tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n            width={70}\n          />\n          {showTooltip && (\n            <Tooltip\n              content={\n                <ChartTooltip\n                  indicator={tooltipIndicator}\n                  valueFormatter={valueFormatter}\n                />\n              }\n              cursor={{ fill: \"var(--color-muted)\", opacity: 0.1 }}\n            />\n          )}\n          {/* Range bars - stacked */}\n          <Bar dataKey=\"range0\" stackId=\"range\" fill={RANGE_COLORS[0]} barSize={barSize} radius={0} />\n          <Bar dataKey=\"range1\" stackId=\"range\" fill={RANGE_COLORS[1]} barSize={barSize} radius={0} />\n          <Bar dataKey=\"range2\" stackId=\"range\" fill={RANGE_COLORS[2]} barSize={barSize} radius={[0, 4, 4, 0]} />\n          {/* Actual bar - overlaid */}\n          <Bar dataKey=\"actual\" fill={ACTUAL_COLOR} barSize={actualBarSize} radius={[0, 2, 2, 0]} />\n          {/* Target markers rendered separately */}\n          {chartData.map((entry, index) => (\n            <ReferenceLine\n              key={`target-${index}`}\n              x={entry.target}\n              stroke={TARGET_COLOR}\n              strokeWidth={2}\n              segment={[\n                { x: entry.target, y: index - 0.3 },\n                { x: entry.target, y: index + 0.3 },\n              ]}\n            />\n          ))}\n        </BarChart>\n      </ResponsiveContainer>\n    </div>\n  )\n}\n\n// ============================================================================\n// 2. Bullet Chart - With Legend\n// ============================================================================\n\ninterface BulletLegendChartProps extends BulletChartBaseProps {\n  legendPosition?: \"top\" | \"bottom\"\n  barSize?: number\n  actualBarSize?: number\n}\n\nfunction BulletLegendChart({\n  data,\n  className,\n  showTooltip = true,\n  tooltipIndicator = \"line\",\n  valueFormatter = defaultValueFormatter,\n  legendPosition = \"bottom\",\n  barSize = 32,\n  actualBarSize = 12,\n}: BulletLegendChartProps) {\n  const chartData = transformBulletData(data)\n  const maxValue = Math.max(...data.map((d) => d.ranges[2]))\n\n  return (\n    <div className={cn(\"flex flex-col\", className)}>\n      {legendPosition === \"top\" && <ChartLegend className=\"pb-4\" />}\n      <div className=\"flex-1 min-h-0\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <BarChart\n            data={chartData}\n            layout=\"vertical\"\n            margin={{ top: 10, right: 30, bottom: 10, left: 80 }}\n            barCategoryGap=\"20%\"\n          >\n            <XAxis\n              type=\"number\"\n              domain={[0, maxValue]}\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n              tickFormatter={valueFormatter}\n            />\n            <YAxis\n              type=\"category\"\n              dataKey=\"name\"\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n              width={70}\n            />\n            {showTooltip && (\n              <Tooltip\n                content={\n                  <ChartTooltip\n                    indicator={tooltipIndicator}\n                    valueFormatter={valueFormatter}\n                  />\n                }\n                cursor={{ fill: \"var(--color-muted)\", opacity: 0.1 }}\n              />\n            )}\n            <Bar dataKey=\"range0\" stackId=\"range\" fill={RANGE_COLORS[0]} barSize={barSize} radius={0} />\n            <Bar dataKey=\"range1\" stackId=\"range\" fill={RANGE_COLORS[1]} barSize={barSize} radius={0} />\n            <Bar dataKey=\"range2\" stackId=\"range\" fill={RANGE_COLORS[2]} barSize={barSize} radius={[0, 4, 4, 0]} />\n            <Bar dataKey=\"actual\" fill={ACTUAL_COLOR} barSize={actualBarSize} radius={[0, 2, 2, 0]} />\n          </BarChart>\n        </ResponsiveContainer>\n      </div>\n      {legendPosition === \"bottom\" && <ChartLegend className=\"pt-4\" />}\n    </div>\n  )\n}\n\n// ============================================================================\n// 3. Bullet Chart - Vertical\n// ============================================================================\n\ninterface BulletVerticalChartProps extends BulletChartBaseProps {\n  barSize?: number\n  actualBarSize?: number\n}\n\nfunction BulletVerticalChart({\n  data,\n  className,\n  showTooltip = true,\n  tooltipIndicator = \"dot\",\n  valueFormatter = defaultValueFormatter,\n  barSize = 40,\n  actualBarSize = 16,\n}: BulletVerticalChartProps) {\n  const chartData = transformBulletData(data)\n  const maxValue = Math.max(...data.map((d) => d.ranges[2]))\n\n  return (\n    <div className={cn(\"flex flex-col\", className)}>\n      <div className=\"flex-1 min-h-0\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <BarChart\n            data={chartData}\n            margin={{ top: 20, right: 20, bottom: 20, left: 20 }}\n            barCategoryGap=\"25%\"\n          >\n            <XAxis\n              type=\"category\"\n              dataKey=\"name\"\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n            />\n            <YAxis\n              type=\"number\"\n              domain={[0, maxValue]}\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n              tickFormatter={valueFormatter}\n              width={50}\n            />\n            {showTooltip && (\n              <Tooltip\n                content={\n                  <ChartTooltip\n                    indicator={tooltipIndicator}\n                    valueFormatter={valueFormatter}\n                  />\n                }\n                cursor={{ fill: \"var(--color-muted)\", opacity: 0.1 }}\n              />\n            )}\n            <Bar dataKey=\"range0\" stackId=\"range\" fill={RANGE_COLORS[0]} barSize={barSize} radius={0} />\n            <Bar dataKey=\"range1\" stackId=\"range\" fill={RANGE_COLORS[1]} barSize={barSize} radius={0} />\n            <Bar dataKey=\"range2\" stackId=\"range\" fill={RANGE_COLORS[2]} barSize={barSize} radius={[4, 4, 0, 0]} />\n            <Bar dataKey=\"actual\" fill={ACTUAL_COLOR} barSize={actualBarSize} radius={[2, 2, 0, 0]} />\n          </BarChart>\n        </ResponsiveContainer>\n      </div>\n      <ChartLegend className=\"pt-4\" />\n    </div>\n  )\n}\n\n// ============================================================================\n// 4. Bullet Chart - Compact (Single row)\n// ============================================================================\n\ninterface BulletCompactChartProps {\n  name: string\n  actual: number\n  target: number\n  ranges: [number, number, number]\n  className?: string\n  valueFormatter?: (value: number) => string\n  showLabel?: boolean\n}\n\nfunction BulletCompactChart({\n  name,\n  actual,\n  target,\n  ranges,\n  className,\n  valueFormatter = defaultValueFormatter,\n  showLabel = true,\n}: BulletCompactChartProps) {\n  const maxValue = ranges[2]\n  const actualPercent = (actual / maxValue) * 100\n  const targetPercent = (target / maxValue) * 100\n  const range0Percent = (ranges[0] / maxValue) * 100\n  const range1Percent = (ranges[1] / maxValue) * 100\n\n  return (\n    <div className={cn(\"w-full\", className)}>\n      {showLabel && (\n        <div className=\"flex justify-between items-center mb-2\">\n          <span className=\"text-sm font-medium text-foreground\">{name}</span>\n          <span className=\"text-sm text-muted-foreground\">\n            {valueFormatter(actual)} / {valueFormatter(target)}\n          </span>\n        </div>\n      )}\n      <div className=\"relative h-6 w-full rounded overflow-hidden\">\n        {/* Range backgrounds */}\n        <div\n          className=\"absolute inset-y-0 left-0\"\n          style={{ width: `${range0Percent}%`, backgroundColor: RANGE_COLORS[0] }}\n        />\n        <div\n          className=\"absolute inset-y-0\"\n          style={{\n            left: `${range0Percent}%`,\n            width: `${range1Percent - range0Percent}%`,\n            backgroundColor: RANGE_COLORS[1],\n          }}\n        />\n        <div\n          className=\"absolute inset-y-0 rounded-r\"\n          style={{\n            left: `${range1Percent}%`,\n            width: `${100 - range1Percent}%`,\n            backgroundColor: RANGE_COLORS[2],\n          }}\n        />\n        {/* Actual bar */}\n        <div\n          className=\"absolute top-1/2 -translate-y-1/2 h-3 rounded-r\"\n          style={{\n            width: `${actualPercent}%`,\n            backgroundColor: ACTUAL_COLOR,\n          }}\n        />\n        {/* Target marker */}\n        <div\n          className=\"absolute top-0 bottom-0 w-0.5\"\n          style={{\n            left: `${targetPercent}%`,\n            backgroundColor: TARGET_COLOR,\n          }}\n        />\n      </div>\n    </div>\n  )\n}\n\n// ============================================================================\n// 5. Bullet Chart - Interactive (Hover highlight)\n// ============================================================================\n\ninterface BulletInteractiveChartProps extends BulletChartBaseProps {\n  barSize?: number\n  actualBarSize?: number\n}\n\nfunction BulletInteractiveChart({\n  data,\n  className,\n  showTooltip = true,\n  tooltipIndicator = \"dot\",\n  valueFormatter = defaultValueFormatter,\n  barSize = 32,\n  actualBarSize = 12,\n}: BulletInteractiveChartProps) {\n  const [activeIndex, setActiveIndex] = React.useState<number | null>(null)\n  const chartData = transformBulletData(data)\n  const maxValue = Math.max(...data.map((d) => d.ranges[2]))\n\n  return (\n    <div className={cn(\"flex flex-col\", className)}>\n      <div className=\"flex-1 min-h-0\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <BarChart\n            data={chartData}\n            layout=\"vertical\"\n            margin={{ top: 10, right: 30, bottom: 10, left: 80 }}\n            barCategoryGap=\"20%\"\n            onMouseLeave={() => setActiveIndex(null)}\n          >\n            <XAxis\n              type=\"number\"\n              domain={[0, maxValue]}\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n              tickFormatter={valueFormatter}\n            />\n            <YAxis\n              type=\"category\"\n              dataKey=\"name\"\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n              width={70}\n            />\n            {showTooltip && (\n              <Tooltip\n                content={\n                  <ChartTooltip\n                    indicator={tooltipIndicator}\n                    valueFormatter={valueFormatter}\n                  />\n                }\n                cursor={{ fill: \"var(--color-muted)\", opacity: 0.1 }}\n              />\n            )}\n            <Bar\n              dataKey=\"range0\"\n              stackId=\"range\"\n              fill={RANGE_COLORS[0]}\n              barSize={barSize}\n              radius={0}\n              onMouseEnter={(_, index) => setActiveIndex(index)}\n            >\n              {chartData.map((_, index) => (\n                <Cell\n                  key={`range0-${index}`}\n                  fillOpacity={activeIndex === null ? 1 : activeIndex === index ? 1 : 0.3}\n                  style={{ transition: \"fill-opacity 150ms\" }}\n                />\n              ))}\n            </Bar>\n            <Bar\n              dataKey=\"range1\"\n              stackId=\"range\"\n              fill={RANGE_COLORS[1]}\n              barSize={barSize}\n              radius={0}\n              onMouseEnter={(_, index) => setActiveIndex(index)}\n            >\n              {chartData.map((_, index) => (\n                <Cell\n                  key={`range1-${index}`}\n                  fillOpacity={activeIndex === null ? 1 : activeIndex === index ? 1 : 0.3}\n                  style={{ transition: \"fill-opacity 150ms\" }}\n                />\n              ))}\n            </Bar>\n            <Bar\n              dataKey=\"range2\"\n              stackId=\"range\"\n              fill={RANGE_COLORS[2]}\n              barSize={barSize}\n              radius={[0, 4, 4, 0]}\n              onMouseEnter={(_, index) => setActiveIndex(index)}\n            >\n              {chartData.map((_, index) => (\n                <Cell\n                  key={`range2-${index}`}\n                  fillOpacity={activeIndex === null ? 1 : activeIndex === index ? 1 : 0.3}\n                  style={{ transition: \"fill-opacity 150ms\" }}\n                />\n              ))}\n            </Bar>\n            <Bar\n              dataKey=\"actual\"\n              fill={ACTUAL_COLOR}\n              barSize={actualBarSize}\n              radius={[0, 2, 2, 0]}\n              onMouseEnter={(_, index) => setActiveIndex(index)}\n            >\n              {chartData.map((_, index) => (\n                <Cell\n                  key={`actual-${index}`}\n                  fillOpacity={activeIndex === null ? 1 : activeIndex === index ? 1 : 0.3}\n                  style={{ transition: \"fill-opacity 150ms\" }}\n                />\n              ))}\n            </Bar>\n          </BarChart>\n        </ResponsiveContainer>\n      </div>\n      <ChartLegend className=\"pt-4\" />\n    </div>\n  )\n}\n\n// ============================================================================\n// 6. Bullet Chart - Custom Colors\n// ============================================================================\n\ninterface BulletCustomChartProps extends BulletChartBaseProps {\n  rangeColors?: [string, string, string]\n  actualColor?: string\n  targetColor?: string\n  barSize?: number\n  actualBarSize?: number\n}\n\nfunction BulletCustomChart({\n  data,\n  className,\n  showTooltip = true,\n  tooltipIndicator = \"dashed\",\n  valueFormatter = defaultValueFormatter,\n  rangeColors = RANGE_COLORS as [string, string, string],\n  actualColor = ACTUAL_COLOR,\n  barSize = 32,\n  actualBarSize = 12,\n}: BulletCustomChartProps) {\n  const chartData = transformBulletData(data)\n  const maxValue = Math.max(...data.map((d) => d.ranges[2]))\n\n  return (\n    <div className={cn(\"flex flex-col\", className)}>\n      <div className=\"flex-1 min-h-0\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <BarChart\n            data={chartData}\n            layout=\"vertical\"\n            margin={{ top: 10, right: 30, bottom: 10, left: 80 }}\n            barCategoryGap=\"20%\"\n          >\n            <XAxis\n              type=\"number\"\n              domain={[0, maxValue]}\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n              tickFormatter={valueFormatter}\n            />\n            <YAxis\n              type=\"category\"\n              dataKey=\"name\"\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n              width={70}\n            />\n            {showTooltip && (\n              <Tooltip\n                content={\n                  <ChartTooltip\n                    indicator={tooltipIndicator}\n                    valueFormatter={valueFormatter}\n                  />\n                }\n                cursor={{ fill: \"var(--color-muted)\", opacity: 0.1 }}\n              />\n            )}\n            <Bar dataKey=\"range0\" stackId=\"range\" fill={rangeColors[0]} barSize={barSize} radius={0} />\n            <Bar dataKey=\"range1\" stackId=\"range\" fill={rangeColors[1]} barSize={barSize} radius={0} />\n            <Bar dataKey=\"range2\" stackId=\"range\" fill={rangeColors[2]} barSize={barSize} radius={[0, 4, 4, 0]} />\n            <Bar dataKey=\"actual\" fill={actualColor} barSize={actualBarSize} radius={[0, 2, 2, 0]} />\n          </BarChart>\n        </ResponsiveContainer>\n      </div>\n      <ChartLegend className=\"pt-4\" />\n    </div>\n  )\n}\n\n// ============================================================================\n// Exports\n// ============================================================================\n\nexport {\n  BulletChart,\n  BulletLegendChart,\n  BulletVerticalChart,\n  BulletCompactChart,\n  BulletInteractiveChart,\n  BulletCustomChart,\n  ChartTooltip,\n  ChartLegend,\n  defaultValueFormatter,\n  RANGE_COLORS,\n  ACTUAL_COLOR,\n  TARGET_COLOR,\n}\n",
      "type": "registry:ui",
      "target": "components/ruixen/bullet-chart.tsx"
    }
  ]
}