{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "column-collaboration-table",
  "type": "registry:ui",
  "title": "Column Collaboration Table",
  "description": "A collaborative table with column-level comments and annotations.",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "table",
    "button",
    "popover",
    "input",
    "scroll-area"
  ],
  "files": [
    {
      "path": "registry/ruixenui/column-collaboration-table.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableFooter,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Popover,\n  PopoverTrigger,\n  PopoverContent,\n} from \"@/components/ui/popover\";\nimport { Input } from \"@/components/ui/input\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { CircleFadingPlus } from \"lucide-react\";\n\n/** --- Types --- */\nexport type ColumnCollaborationItem = {\n  id: string;\n  [key: string]: string;\n};\n\nexport type ColumnCollaborationTableProps = {\n  columns?: string[];\n  data?: ColumnCollaborationItem[];\n};\n\n/** --- Default Data --- */\nconst defaultColumns = [\"Name\", \"Email\", \"Location\", \"Status\", \"Balance\"];\n\nconst defaultData: ColumnCollaborationItem[] = [\n  {\n    id: \"1\",\n    Name: \"Arjun Mehta\",\n    Email: \"arjun.mehta@company.com\",\n    Location: \"Bangalore, IN\",\n    Status: \"Active\",\n    Balance: \"$1,250.00\",\n  },\n  {\n    id: \"2\",\n    Name: \"Hannah Park\",\n    Email: \"hannah.park@company.com\",\n    Location: \"Seoul, KR\",\n    Status: \"Active\",\n    Balance: \"$600.00\",\n  },\n  {\n    id: \"3\",\n    Name: \"Oliver Scott\",\n    Email: \"oliver.scott@company.com\",\n    Location: \"Manchester, UK\",\n    Status: \"Inactive\",\n    Balance: \"$650.00\",\n  },\n  {\n    id: \"4\",\n    Name: \"Camila Torres\",\n    Email: \"camila.torres@company.com\",\n    Location: \"Bogot√°, CO\",\n    Status: \"Active\",\n    Balance: \"$0.00\",\n  },\n  {\n    id: \"5\",\n    Name: \"Kenji Tanaka\",\n    Email: \"kenji.tanaka@company.com\",\n    Location: \"Osaka, JP\",\n    Status: \"Active\",\n    Balance: \"-$1,000.00\",\n  },\n];\n\n/** --- Component --- */\nexport default function ColumnCollaborationTable({\n  columns = defaultColumns,\n  data = defaultData,\n}: ColumnCollaborationTableProps) {\n  const [comments, setComments] = React.useState<{ [key: string]: string[] }>(\n    {},\n  );\n  const [newComment, setNewComment] = React.useState<{ [key: string]: string }>(\n    {},\n  );\n\n  const addComment = (column: string) => {\n    if (!newComment[column]) return;\n    setComments((prev) => ({\n      ...prev,\n      [column]: [...(prev[column] || []), newComment[column]],\n    }));\n    setNewComment((prev) => ({ ...prev, [column]: \"\" }));\n  };\n\n  return (\n    <div className=\"bg-background p-4 rounded-lg border\">\n      <ScrollArea className=\"max-h-[400px]\">\n        <Table className=\"w-full border-separate border-spacing-0\">\n          {/* Header with popovers */}\n          <TableHeader className=\"sticky top-0 bg-background/90 backdrop-blur-sm z-10\">\n            <TableRow>\n              {columns.map((col) => (\n                <TableHead key={col} className=\"relative\">\n                  <div className=\"flex items-center justify-between\">\n                    {col}\n                    <Popover>\n                      <PopoverTrigger asChild>\n                        <Button\n                          size=\"sm\"\n                          variant=\"outline\"\n                          className=\"ml-2 p-1\"\n                        >\n                          <CircleFadingPlus className=\"w-4 h-4\" />\n                        </Button>\n                      </PopoverTrigger>\n                      <PopoverContent className=\"w-64 p-2\">\n                        <div className=\"flex flex-col gap-2\">\n                          <ScrollArea className=\"max-h-32\">\n                            <ul className=\"space-y-1\">\n                              {(comments[col] || []).map((cmt, i) => (\n                                <li key={i} className=\"text-sm border-b pb-1\">\n                                  {cmt}\n                                </li>\n                              ))}\n                              {(!comments[col] ||\n                                comments[col].length === 0) && (\n                                <li className=\"text-sm text-muted-foreground\">\n                                  No comments\n                                </li>\n                              )}\n                            </ul>\n                          </ScrollArea>\n                          <div className=\"flex gap-2\">\n                            <Input\n                              value={newComment[col] || \"\"}\n                              onChange={(e) =>\n                                setNewComment((prev) => ({\n                                  ...prev,\n                                  [col]: e.target.value,\n                                }))\n                              }\n                              placeholder=\"Add comment\"\n                              className=\"flex-1\"\n                            />\n                            <Button size=\"sm\" onClick={() => addComment(col)}>\n                              Add\n                            </Button>\n                          </div>\n                        </div>\n                      </PopoverContent>\n                    </Popover>\n                  </div>\n                </TableHead>\n              ))}\n            </TableRow>\n          </TableHeader>\n\n          {/* Body */}\n          <TableBody>\n            {data.map((item) => (\n              <TableRow key={item.id}>\n                {columns.map((col) => (\n                  <TableCell key={col}>{item[col] || \"-\"}</TableCell>\n                ))}\n              </TableRow>\n            ))}\n          </TableBody>\n\n          {/* Footer */}\n          <TableFooter className=\"bg-background/50 sticky bottom-0 backdrop-blur-sm\">\n            <TableRow>\n              <TableCell\n                colSpan={columns.length}\n                className=\"text-right font-medium\"\n              >\n                Total Rows: {data.length}\n              </TableCell>\n            </TableRow>\n          </TableFooter>\n        </Table>\n      </ScrollArea>\n    </div>\n  );\n}\n",
      "type": "registry:ui",
      "target": "components/ruixen/column-collaboration-table.tsx"
    }
  ]
}