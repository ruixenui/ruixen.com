{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "step-indicator",
  "type": "registry:ui",
  "title": "Step Indicator",
  "description": "A clean step indicator component showing numbered circles with checkmarks for completed steps. Supports horizontal and vertical orientations.",
  "dependencies": [
    "lucide-react"
  ],
  "files": [
    {
      "path": "registry/ruixenui/step-indicator.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { CheckIcon, LoaderCircleIcon } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\n// ============================================================================\n// Types\n// ============================================================================\n\ntype StepState = \"active\" | \"completed\" | \"inactive\" | \"loading\";\n\ninterface StepIndicatorContextValue {\n  activeStep: number;\n  setActiveStep: (step: number) => void;\n  orientation: \"horizontal\" | \"vertical\";\n}\n\ninterface StepItemContextValue {\n  step: number;\n  state: StepState;\n  isDisabled: boolean;\n  isLoading: boolean;\n}\n\n// ============================================================================\n// Contexts\n// ============================================================================\n\nconst StepIndicatorContext = React.createContext<\n  StepIndicatorContextValue | undefined\n>(undefined);\nconst StepItemContext = React.createContext<StepItemContextValue | undefined>(\n  undefined,\n);\n\nfunction useStepIndicator() {\n  const context = React.useContext(StepIndicatorContext);\n  if (!context) {\n    throw new Error(\"useStepIndicator must be used within a StepIndicator\");\n  }\n  return context;\n}\n\nfunction useStepItem() {\n  const context = React.useContext(StepItemContext);\n  if (!context) {\n    throw new Error(\"useStepItem must be used within a StepItem\");\n  }\n  return context;\n}\n\n// ============================================================================\n// StepIndicator - Root Container\n// ============================================================================\n\ninterface StepIndicatorProps extends React.HTMLAttributes<HTMLDivElement> {\n  defaultStep?: number;\n  currentStep?: number;\n  onStepChange?: (step: number) => void;\n  orientation?: \"horizontal\" | \"vertical\";\n}\n\nfunction StepIndicator({\n  defaultStep = 1,\n  currentStep,\n  onStepChange,\n  orientation = \"horizontal\",\n  className,\n  ...props\n}: StepIndicatorProps) {\n  const [activeStep, setInternalStep] = React.useState(defaultStep);\n\n  const setActiveStep = React.useCallback(\n    (step: number) => {\n      if (currentStep === undefined) {\n        setInternalStep(step);\n      }\n      onStepChange?.(step);\n    },\n    [currentStep, onStepChange],\n  );\n\n  const step = currentStep ?? activeStep;\n\n  return (\n    <StepIndicatorContext.Provider\n      value={{ activeStep: step, setActiveStep, orientation }}\n    >\n      <div\n        className={cn(\n          \"group/steps inline-flex\",\n          orientation === \"horizontal\"\n            ? \"w-full flex-row items-center\"\n            : \"flex-col\",\n          className,\n        )}\n        data-orientation={orientation}\n        {...props}\n      />\n    </StepIndicatorContext.Provider>\n  );\n}\n\n// ============================================================================\n// StepItem - Individual Step Container\n// ============================================================================\n\ninterface StepItemProps extends React.HTMLAttributes<HTMLDivElement> {\n  step: number;\n  completed?: boolean;\n  disabled?: boolean;\n  loading?: boolean;\n}\n\nfunction StepItem({\n  step,\n  completed = false,\n  disabled = false,\n  loading = false,\n  className,\n  children,\n  ...props\n}: StepItemProps) {\n  const { activeStep } = useStepIndicator();\n\n  const state: StepState =\n    completed || step < activeStep\n      ? \"completed\"\n      : activeStep === step\n        ? \"active\"\n        : \"inactive\";\n\n  const isLoading = loading && step === activeStep;\n\n  return (\n    <StepItemContext.Provider\n      value={{ step, state, isDisabled: disabled, isLoading }}\n    >\n      <div\n        className={cn(\n          \"group/step flex items-center\",\n          \"group-data-[orientation=horizontal]/steps:flex-row\",\n          \"group-data-[orientation=vertical]/steps:flex-col\",\n          className,\n        )}\n        data-state={state}\n        data-loading={isLoading || undefined}\n        {...props}\n      >\n        {children}\n      </div>\n    </StepItemContext.Provider>\n  );\n}\n\n// ============================================================================\n// StepCircle - The Numbered Circle Indicator\n// ============================================================================\n\ninterface StepCircleProps extends React.HTMLAttributes<HTMLSpanElement> {\n  showCheck?: boolean;\n}\n\nfunction StepCircle({\n  showCheck = true,\n  className,\n  ...props\n}: StepCircleProps) {\n  const { state, step, isLoading } = useStepItem();\n\n  return (\n    <span\n      className={cn(\n        \"relative flex size-8 shrink-0 items-center justify-center rounded-full text-sm font-medium transition-colors\",\n        \"bg-muted text-muted-foreground\",\n        \"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground\",\n        \"data-[state=completed]:bg-primary data-[state=completed]:text-primary-foreground\",\n        className,\n      )}\n      data-state={state}\n      {...props}\n    >\n      {isLoading ? (\n        <LoaderCircleIcon className=\"size-4 animate-spin\" aria-hidden=\"true\" />\n      ) : state === \"completed\" && showCheck ? (\n        <CheckIcon className=\"size-4\" aria-hidden=\"true\" />\n      ) : (\n        <span>{step}</span>\n      )}\n    </span>\n  );\n}\n\n// ============================================================================\n// StepConnector - Line Between Steps\n// ============================================================================\n\ninterface StepConnectorProps extends React.HTMLAttributes<HTMLDivElement> {}\n\nfunction StepConnector({ className, ...props }: StepConnectorProps) {\n  const { state } = useStepItem();\n\n  return (\n    <div\n      className={cn(\n        \"bg-muted transition-colors\",\n        \"group-data-[orientation=horizontal]/steps:mx-2 group-data-[orientation=horizontal]/steps:h-0.5 group-data-[orientation=horizontal]/steps:flex-1\",\n        \"group-data-[orientation=vertical]/steps:ml-4 group-data-[orientation=vertical]/steps:h-8 group-data-[orientation=vertical]/steps:w-0.5\",\n        state === \"completed\" && \"bg-primary\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\n// ============================================================================\n// Exports\n// ============================================================================\n\nexport {\n  StepIndicator,\n  StepItem,\n  StepCircle,\n  StepConnector,\n  useStepIndicator,\n  useStepItem,\n};\n",
      "type": "registry:ui",
      "target": "components/ruixen/step-indicator.tsx"
    }
  ]
}