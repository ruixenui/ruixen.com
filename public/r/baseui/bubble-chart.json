{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "bubble-chart",
  "type": "registry:ui",
  "title": "Bubble Chart",
  "description": "A versatile bubble chart component for visualizing three-dimensional data with position (x, y) and size (z) dimensions. Includes multiple variants with labels, legends, grouping, and interactive features.",
  "dependencies": [
    "recharts"
  ],
  "files": [
    {
      "path": "registry/ruixenui/bubble-chart.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport {\n  ScatterChart,\n  Scatter,\n  XAxis,\n  YAxis,\n  ZAxis,\n  Tooltip,\n  ResponsiveContainer,\n  CartesianGrid,\n  Cell,\n  Legend,\n  LabelList,\n} from \"recharts\";\n\nimport { cn } from \"@/lib/utils\";\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport interface BubbleDataItem {\n  name: string;\n  x: number;\n  y: number;\n  z: number; // bubble size\n  category?: string;\n}\n\nexport type TooltipIndicator = \"dot\" | \"line\" | \"dashed\";\n\nexport interface BubbleChartBaseProps {\n  data: BubbleDataItem[];\n  className?: string;\n  showTooltip?: boolean;\n  tooltipIndicator?: TooltipIndicator;\n  xLabel?: string;\n  yLabel?: string;\n  zLabel?: string;\n  valueFormatter?: (value: number) => string;\n}\n\n// ============================================================================\n// Color Palette (shadcn chart style - blue theme)\n// ============================================================================\n\nconst COLORS = {\n  primary: \"#2b7fff\",\n  secondary: \"#8ec5ff\",\n  tertiary: \"#1a5fd1\",\n  quaternary: \"#5ba3ff\",\n};\n\nconst CATEGORY_COLORS = [\n  \"#2b7fff\",\n  \"#8ec5ff\",\n  \"#1a5fd1\",\n  \"#5ba3ff\",\n  \"#0047b3\",\n  \"#b8d9ff\",\n];\n\n// ============================================================================\n// Utility Functions\n// ============================================================================\n\nfunction defaultValueFormatter(value: number): string {\n  if (Math.abs(value) >= 1000000) {\n    return `${(value / 1000000).toFixed(1)}M`;\n  }\n  if (Math.abs(value) >= 1000) {\n    return `${(value / 1000).toFixed(1)}K`;\n  }\n  return value.toLocaleString();\n}\n\nfunction getCategoryColor(index: number): string {\n  return CATEGORY_COLORS[index % CATEGORY_COLORS.length];\n}\n\n// ============================================================================\n// Custom Tooltip Component (shadcn style with indicator variants)\n// ============================================================================\n\ninterface ChartTooltipProps {\n  active?: boolean;\n  payload?: Array<{\n    payload: BubbleDataItem & { fill?: string };\n  }>;\n  indicator?: TooltipIndicator;\n  valueFormatter: (value: number) => string;\n  xLabel?: string;\n  yLabel?: string;\n  zLabel?: string;\n}\n\nfunction ChartTooltip({\n  active,\n  payload,\n  indicator = \"dot\",\n  valueFormatter,\n  xLabel = \"X\",\n  yLabel = \"Y\",\n  zLabel = \"Size\",\n}: ChartTooltipProps) {\n  if (!active || !payload?.length) return null;\n\n  const data = payload[0].payload;\n  const indicatorColor = data.fill || COLORS.primary;\n\n  return (\n    <div className=\"rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\">\n      <div className=\"mb-1.5 font-medium text-foreground\">{data.name}</div>\n      <div className=\"grid gap-1.5\">\n        {[\n          { label: xLabel, value: data.x },\n          { label: yLabel, value: data.y },\n          { label: zLabel, value: data.z },\n        ].map((item, index) => (\n          <div\n            key={index}\n            className={cn(\n              \"flex w-full items-stretch gap-2\",\n              indicator === \"dot\" && \"items-center\",\n            )}\n          >\n            <div\n              className={cn(\"shrink-0 rounded-[2px]\", {\n                \"h-2.5 w-2.5\": indicator === \"dot\",\n                \"w-1 self-stretch\": indicator === \"line\",\n                \"w-0 border-[1.5px] border-dashed bg-transparent self-stretch\":\n                  indicator === \"dashed\",\n              })}\n              style={{\n                backgroundColor:\n                  indicator !== \"dashed\" ? indicatorColor : undefined,\n                borderColor:\n                  indicator === \"dashed\" ? indicatorColor : undefined,\n              }}\n            />\n            <div className=\"flex flex-1 justify-between items-center gap-4\">\n              <span className=\"text-muted-foreground\">{item.label}</span>\n              <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                {valueFormatter(item.value)}\n              </span>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n// ============================================================================\n// Legend Component\n// ============================================================================\n\ninterface ChartLegendProps {\n  categories: string[];\n  className?: string;\n}\n\nfunction ChartLegend({ categories, className }: ChartLegendProps) {\n  return (\n    <div\n      className={cn(\n        \"flex items-center justify-center gap-4 flex-wrap\",\n        className,\n      )}\n    >\n      {categories.map((category, index) => (\n        <div key={index} className=\"flex items-center gap-1.5\">\n          <div\n            className=\"h-2.5 w-2.5 shrink-0 rounded-full\"\n            style={{ backgroundColor: getCategoryColor(index) }}\n          />\n          <span className=\"text-sm text-muted-foreground\">{category}</span>\n        </div>\n      ))}\n    </div>\n  );\n}\n\n// ============================================================================\n// 1. Bubble Chart - Default\n// ============================================================================\n\ninterface BubbleChartProps extends BubbleChartBaseProps {\n  showXAxis?: boolean;\n  showYAxis?: boolean;\n  showGrid?: boolean;\n  minBubbleSize?: number;\n  maxBubbleSize?: number;\n}\n\nfunction BubbleChart({\n  data,\n  className,\n  showTooltip = true,\n  tooltipIndicator = \"dot\",\n  xLabel = \"X\",\n  yLabel = \"Y\",\n  zLabel = \"Size\",\n  valueFormatter = defaultValueFormatter,\n  showXAxis = true,\n  showYAxis = true,\n  showGrid = true,\n  minBubbleSize = 60,\n  maxBubbleSize = 400,\n}: BubbleChartProps) {\n  const chartData = data.map((item, index) => ({\n    ...item,\n    fill: getCategoryColor(index),\n  }));\n\n  return (\n    <div className={cn(\"w-full\", className)}>\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <ScatterChart margin={{ top: 20, right: 20, bottom: 20, left: 20 }}>\n          {showGrid && (\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"var(--color-border)\" />\n          )}\n          {showXAxis && (\n            <XAxis\n              type=\"number\"\n              dataKey=\"x\"\n              name={xLabel}\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n              tickMargin={8}\n            />\n          )}\n          {showYAxis && (\n            <YAxis\n              type=\"number\"\n              dataKey=\"y\"\n              name={yLabel}\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n              tickFormatter={valueFormatter}\n              width={60}\n            />\n          )}\n          <ZAxis\n            type=\"number\"\n            dataKey=\"z\"\n            range={[minBubbleSize, maxBubbleSize]}\n            name={zLabel}\n          />\n          {showTooltip && (\n            <Tooltip\n              content={\n                <ChartTooltip\n                  indicator={tooltipIndicator}\n                  valueFormatter={valueFormatter}\n                  xLabel={xLabel}\n                  yLabel={yLabel}\n                  zLabel={zLabel}\n                />\n              }\n              cursor={{ strokeDasharray: \"3 3\", stroke: \"var(--color-border)\" }}\n            />\n          )}\n          <Scatter data={chartData} fill={COLORS.primary}>\n            {chartData.map((entry, index) => (\n              <Cell key={`cell-${index}`} fill={entry.fill} fillOpacity={0.7} />\n            ))}\n          </Scatter>\n        </ScatterChart>\n      </ResponsiveContainer>\n    </div>\n  );\n}\n\n// ============================================================================\n// 2. Bubble Chart - Label\n// ============================================================================\n\ninterface BubbleLabelChartProps extends BubbleChartBaseProps {\n  showXAxis?: boolean;\n  showYAxis?: boolean;\n  showGrid?: boolean;\n  minBubbleSize?: number;\n  maxBubbleSize?: number;\n}\n\nfunction BubbleLabelChart({\n  data,\n  className,\n  showTooltip = true,\n  tooltipIndicator = \"dot\",\n  xLabel = \"X\",\n  yLabel = \"Y\",\n  zLabel = \"Size\",\n  valueFormatter = defaultValueFormatter,\n  showXAxis = true,\n  showYAxis = true,\n  showGrid = true,\n  minBubbleSize = 400,\n  maxBubbleSize = 2000,\n}: BubbleLabelChartProps) {\n  const [hoveredIndex, setHoveredIndex] = React.useState<number | null>(null);\n\n  const chartData = data.map((item, index) => ({\n    ...item,\n    fill: getCategoryColor(index),\n    index,\n  }));\n\n  // Calculate min/max z for radius scaling\n  const zValues = data.map((d) => d.z);\n  const minZ = Math.min(...zValues);\n  const maxZ = Math.max(...zValues);\n\n  // Custom shape that renders bubble with label inside\n  const createBubbleShape = (itemIndex: number) => (props: any) => {\n    const { cx, cy, payload, fill } = props;\n    const isHovered = hoveredIndex === itemIndex;\n    const isOtherHovered = hoveredIndex !== null && hoveredIndex !== itemIndex;\n\n    // Scale z value to radius\n    const normalizedZ =\n      maxZ === minZ ? 0.5 : (payload.z - minZ) / (maxZ - minZ);\n    const area = minBubbleSize + normalizedZ * (maxBubbleSize - minBubbleSize);\n    const radius = Math.sqrt(area / Math.PI);\n\n    return (\n      <g\n        style={{\n          transition: \"opacity 150ms, transform 150ms\",\n          opacity: isOtherHovered ? 0.4 : 1,\n          cursor: \"pointer\",\n        }}\n        onMouseEnter={() => setHoveredIndex(itemIndex)}\n        onMouseLeave={() => setHoveredIndex(null)}\n      >\n        <circle\n          cx={cx}\n          cy={cy}\n          r={radius}\n          fill={fill}\n          fillOpacity={isHovered ? 1 : 0.8}\n          stroke={isHovered ? fill : \"none\"}\n          strokeWidth={isHovered ? 2 : 0}\n          style={{\n            filter: isHovered\n              ? \"drop-shadow(0 4px 8px rgba(0,0,0,0.3))\"\n              : \"none\",\n          }}\n        />\n        <text\n          x={cx}\n          y={cy}\n          textAnchor=\"middle\"\n          dominantBaseline=\"central\"\n          fill=\"#ffffff\"\n          fontSize={11}\n          fontWeight={600}\n          style={{ pointerEvents: \"none\" }}\n        >\n          {payload.name}\n        </text>\n      </g>\n    );\n  };\n\n  // Sort data so hovered item renders last (on top)\n  const sortedData = [...chartData].sort((a, b) => {\n    if (hoveredIndex === a.index) return 1;\n    if (hoveredIndex === b.index) return -1;\n    return 0;\n  });\n\n  return (\n    <div className={cn(\"w-full\", className)}>\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <ScatterChart margin={{ top: 20, right: 20, bottom: 20, left: 20 }}>\n          {showGrid && (\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"var(--color-border)\" />\n          )}\n          {showXAxis && (\n            <XAxis\n              type=\"number\"\n              dataKey=\"x\"\n              name={xLabel}\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n              tickMargin={8}\n            />\n          )}\n          {showYAxis && (\n            <YAxis\n              type=\"number\"\n              dataKey=\"y\"\n              name={yLabel}\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n              tickFormatter={valueFormatter}\n              width={50}\n            />\n          )}\n          <ZAxis\n            type=\"number\"\n            dataKey=\"z\"\n            range={[minBubbleSize, maxBubbleSize]}\n            name={zLabel}\n          />\n          {showTooltip && (\n            <Tooltip\n              content={\n                <ChartTooltip\n                  indicator={tooltipIndicator}\n                  valueFormatter={valueFormatter}\n                  xLabel={xLabel}\n                  yLabel={yLabel}\n                  zLabel={zLabel}\n                />\n              }\n              cursor={{ strokeDasharray: \"3 3\", stroke: \"var(--color-border)\" }}\n            />\n          )}\n          {sortedData.map((entry) => (\n            <Scatter\n              key={`scatter-${entry.index}`}\n              name={entry.name}\n              data={[entry]}\n              fill={entry.fill}\n              shape={createBubbleShape(entry.index)}\n            />\n          ))}\n        </ScatterChart>\n      </ResponsiveContainer>\n    </div>\n  );\n}\n\n// ============================================================================\n// 3. Bubble Chart - Legend\n// ============================================================================\n\ninterface BubbleLegendChartProps extends BubbleChartBaseProps {\n  legendPosition?: \"top\" | \"bottom\";\n  showXAxis?: boolean;\n  showYAxis?: boolean;\n  showGrid?: boolean;\n  minBubbleSize?: number;\n  maxBubbleSize?: number;\n}\n\nfunction BubbleLegendChart({\n  data,\n  className,\n  showTooltip = true,\n  tooltipIndicator = \"line\",\n  xLabel = \"X\",\n  yLabel = \"Y\",\n  zLabel = \"Size\",\n  valueFormatter = defaultValueFormatter,\n  legendPosition = \"bottom\",\n  showXAxis = true,\n  showYAxis = true,\n  showGrid = true,\n  minBubbleSize = 60,\n  maxBubbleSize = 400,\n}: BubbleLegendChartProps) {\n  const chartData = data.map((item, index) => ({\n    ...item,\n    fill: getCategoryColor(index),\n  }));\n\n  const categories = data.map((d) => d.name);\n\n  return (\n    <div className={cn(\"flex flex-col\", className)}>\n      {legendPosition === \"top\" && (\n        <ChartLegend categories={categories} className=\"pb-4\" />\n      )}\n      <div className=\"flex-1 min-h-0\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <ScatterChart margin={{ top: 20, right: 20, bottom: 20, left: 20 }}>\n            {showGrid && (\n              <CartesianGrid\n                strokeDasharray=\"3 3\"\n                stroke=\"var(--color-border)\"\n              />\n            )}\n            {showXAxis && (\n              <XAxis\n                type=\"number\"\n                dataKey=\"x\"\n                name={xLabel}\n                tickLine={false}\n                axisLine={false}\n                tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n                tickMargin={8}\n              />\n            )}\n            {showYAxis && (\n              <YAxis\n                type=\"number\"\n                dataKey=\"y\"\n                name={yLabel}\n                tickLine={false}\n                axisLine={false}\n                tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n                tickFormatter={valueFormatter}\n                width={60}\n              />\n            )}\n            <ZAxis\n              type=\"number\"\n              dataKey=\"z\"\n              range={[minBubbleSize, maxBubbleSize]}\n              name={zLabel}\n            />\n            {showTooltip && (\n              <Tooltip\n                content={\n                  <ChartTooltip\n                    indicator={tooltipIndicator}\n                    valueFormatter={valueFormatter}\n                    xLabel={xLabel}\n                    yLabel={yLabel}\n                    zLabel={zLabel}\n                  />\n                }\n                cursor={{\n                  strokeDasharray: \"3 3\",\n                  stroke: \"var(--color-border)\",\n                }}\n              />\n            )}\n            <Scatter data={chartData} fill={COLORS.primary}>\n              {chartData.map((entry, index) => (\n                <Cell\n                  key={`cell-${index}`}\n                  fill={entry.fill}\n                  fillOpacity={0.7}\n                />\n              ))}\n            </Scatter>\n          </ScatterChart>\n        </ResponsiveContainer>\n      </div>\n      {legendPosition === \"bottom\" && (\n        <ChartLegend categories={categories} className=\"pt-4\" />\n      )}\n    </div>\n  );\n}\n\n// ============================================================================\n// 4. Bubble Chart - Grouped (by category)\n// ============================================================================\n\ninterface BubbleGroupedChartProps extends BubbleChartBaseProps {\n  showXAxis?: boolean;\n  showYAxis?: boolean;\n  showGrid?: boolean;\n  minBubbleSize?: number;\n  maxBubbleSize?: number;\n}\n\nfunction BubbleGroupedChart({\n  data,\n  className,\n  showTooltip = true,\n  tooltipIndicator = \"dashed\",\n  xLabel = \"X\",\n  yLabel = \"Y\",\n  zLabel = \"Size\",\n  valueFormatter = defaultValueFormatter,\n  showXAxis = true,\n  showYAxis = true,\n  showGrid = true,\n  minBubbleSize = 60,\n  maxBubbleSize = 400,\n}: BubbleGroupedChartProps) {\n  // Group data by category\n  const categories = [...new Set(data.map((d) => d.category || \"Default\"))];\n  const groupedData = categories.map((category, catIndex) => ({\n    category,\n    data: data\n      .filter((d) => (d.category || \"Default\") === category)\n      .map((item) => ({\n        ...item,\n        fill: getCategoryColor(catIndex),\n      })),\n  }));\n\n  return (\n    <div className={cn(\"flex flex-col\", className)}>\n      <div className=\"flex-1 min-h-0\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <ScatterChart margin={{ top: 20, right: 20, bottom: 20, left: 20 }}>\n            {showGrid && (\n              <CartesianGrid\n                strokeDasharray=\"3 3\"\n                stroke=\"var(--color-border)\"\n              />\n            )}\n            {showXAxis && (\n              <XAxis\n                type=\"number\"\n                dataKey=\"x\"\n                name={xLabel}\n                tickLine={false}\n                axisLine={false}\n                tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n                tickMargin={8}\n              />\n            )}\n            {showYAxis && (\n              <YAxis\n                type=\"number\"\n                dataKey=\"y\"\n                name={yLabel}\n                tickLine={false}\n                axisLine={false}\n                tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n                tickFormatter={valueFormatter}\n                width={60}\n              />\n            )}\n            <ZAxis\n              type=\"number\"\n              dataKey=\"z\"\n              range={[minBubbleSize, maxBubbleSize]}\n              name={zLabel}\n            />\n            {showTooltip && (\n              <Tooltip\n                content={\n                  <ChartTooltip\n                    indicator={tooltipIndicator}\n                    valueFormatter={valueFormatter}\n                    xLabel={xLabel}\n                    yLabel={yLabel}\n                    zLabel={zLabel}\n                  />\n                }\n                cursor={{\n                  strokeDasharray: \"3 3\",\n                  stroke: \"var(--color-border)\",\n                }}\n              />\n            )}\n            {groupedData.map((group, groupIndex) => (\n              <Scatter\n                key={group.category}\n                name={group.category}\n                data={group.data}\n                fill={getCategoryColor(groupIndex)}\n              >\n                {group.data.map((entry, index) => (\n                  <Cell\n                    key={`cell-${index}`}\n                    fill={entry.fill}\n                    fillOpacity={0.7}\n                  />\n                ))}\n              </Scatter>\n            ))}\n          </ScatterChart>\n        </ResponsiveContainer>\n      </div>\n      <ChartLegend categories={categories} className=\"pt-4\" />\n    </div>\n  );\n}\n\n// ============================================================================\n// 5. Bubble Chart - Interactive (Hover highlight)\n// ============================================================================\n\nfunction BubbleInteractiveChart({\n  data,\n  className,\n  showTooltip = true,\n  tooltipIndicator = \"dot\",\n  xLabel = \"X\",\n  yLabel = \"Y\",\n  zLabel = \"Size\",\n  valueFormatter = defaultValueFormatter,\n}: BubbleChartBaseProps) {\n  const [activeIndex, setActiveIndex] = React.useState<number | null>(null);\n\n  const chartData = data.map((item, index) => ({\n    ...item,\n    fill: getCategoryColor(index),\n  }));\n\n  return (\n    <div className={cn(\"w-full\", className)}>\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <ScatterChart margin={{ top: 20, right: 20, bottom: 20, left: 20 }}>\n          <CartesianGrid strokeDasharray=\"3 3\" stroke=\"var(--color-border)\" />\n          <XAxis\n            type=\"number\"\n            dataKey=\"x\"\n            name={xLabel}\n            tickLine={false}\n            axisLine={false}\n            tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n            tickMargin={8}\n          />\n          <YAxis\n            type=\"number\"\n            dataKey=\"y\"\n            name={yLabel}\n            tickLine={false}\n            axisLine={false}\n            tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n            tickFormatter={valueFormatter}\n            width={60}\n          />\n          <ZAxis type=\"number\" dataKey=\"z\" range={[60, 400]} name={zLabel} />\n          {showTooltip && (\n            <Tooltip\n              content={\n                <ChartTooltip\n                  indicator={tooltipIndicator}\n                  valueFormatter={valueFormatter}\n                  xLabel={xLabel}\n                  yLabel={yLabel}\n                  zLabel={zLabel}\n                />\n              }\n              cursor={{ strokeDasharray: \"3 3\", stroke: \"var(--color-border)\" }}\n            />\n          )}\n          <Scatter\n            data={chartData}\n            fill={COLORS.primary}\n            onMouseEnter={(_, index) => setActiveIndex(index)}\n            onMouseLeave={() => setActiveIndex(null)}\n          >\n            {chartData.map((entry, index) => (\n              <Cell\n                key={`cell-${index}`}\n                fill={entry.fill}\n                fillOpacity={\n                  activeIndex === null || activeIndex === index ? 0.85 : 0.3\n                }\n                style={{ cursor: \"pointer\", transition: \"fill-opacity 150ms\" }}\n              />\n            ))}\n          </Scatter>\n        </ScatterChart>\n      </ResponsiveContainer>\n    </div>\n  );\n}\n\n// ============================================================================\n// 6. Bubble Chart - Size Legend\n// ============================================================================\n\ninterface BubbleSizeLegendChartProps extends BubbleChartBaseProps {\n  showXAxis?: boolean;\n  showYAxis?: boolean;\n  showGrid?: boolean;\n  minBubbleSize?: number;\n  maxBubbleSize?: number;\n}\n\nfunction BubbleSizeLegendChart({\n  data,\n  className,\n  showTooltip = true,\n  tooltipIndicator = \"dot\",\n  xLabel = \"X\",\n  yLabel = \"Y\",\n  zLabel = \"Size\",\n  valueFormatter = defaultValueFormatter,\n  showXAxis = true,\n  showYAxis = true,\n  showGrid = true,\n  minBubbleSize = 60,\n  maxBubbleSize = 400,\n}: BubbleSizeLegendChartProps) {\n  const chartData = data.map((item, index) => ({\n    ...item,\n    fill: getCategoryColor(index),\n  }));\n\n  // Calculate size legend values\n  const zValues = data.map((d) => d.z);\n  const minZ = Math.min(...zValues);\n  const maxZ = Math.max(...zValues);\n  const midZ = Math.round((minZ + maxZ) / 2);\n\n  return (\n    <div className={cn(\"flex flex-col\", className)}>\n      <div className=\"flex-1 min-h-0\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <ScatterChart margin={{ top: 20, right: 20, bottom: 20, left: 20 }}>\n            {showGrid && (\n              <CartesianGrid\n                strokeDasharray=\"3 3\"\n                stroke=\"var(--color-border)\"\n              />\n            )}\n            {showXAxis && (\n              <XAxis\n                type=\"number\"\n                dataKey=\"x\"\n                name={xLabel}\n                tickLine={false}\n                axisLine={false}\n                tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n                tickMargin={8}\n              />\n            )}\n            {showYAxis && (\n              <YAxis\n                type=\"number\"\n                dataKey=\"y\"\n                name={yLabel}\n                tickLine={false}\n                axisLine={false}\n                tick={{ fill: \"var(--color-muted-foreground)\", fontSize: 12 }}\n                tickFormatter={valueFormatter}\n                width={60}\n              />\n            )}\n            <ZAxis\n              type=\"number\"\n              dataKey=\"z\"\n              range={[minBubbleSize, maxBubbleSize]}\n              name={zLabel}\n            />\n            {showTooltip && (\n              <Tooltip\n                content={\n                  <ChartTooltip\n                    indicator={tooltipIndicator}\n                    valueFormatter={valueFormatter}\n                    xLabel={xLabel}\n                    yLabel={yLabel}\n                    zLabel={zLabel}\n                  />\n                }\n                cursor={{\n                  strokeDasharray: \"3 3\",\n                  stroke: \"var(--color-border)\",\n                }}\n              />\n            )}\n            <Scatter data={chartData} fill={COLORS.primary}>\n              {chartData.map((entry, index) => (\n                <Cell\n                  key={`cell-${index}`}\n                  fill={entry.fill}\n                  fillOpacity={0.7}\n                />\n              ))}\n            </Scatter>\n          </ScatterChart>\n        </ResponsiveContainer>\n      </div>\n      {/* Size Legend */}\n      <div className=\"flex items-center justify-center gap-6 pt-4\">\n        <span className=\"text-sm text-muted-foreground\">{zLabel}:</span>\n        {[\n          { size: 12, value: minZ },\n          { size: 18, value: midZ },\n          { size: 24, value: maxZ },\n        ].map((item, index) => (\n          <div key={index} className=\"flex items-center gap-1.5\">\n            <div\n              className=\"rounded-full\"\n              style={{\n                width: item.size,\n                height: item.size,\n                backgroundColor: COLORS.primary,\n                opacity: 0.7,\n              }}\n            />\n            <span className=\"text-xs text-muted-foreground\">\n              {valueFormatter(item.value)}\n            </span>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n// ============================================================================\n// Exports\n// ============================================================================\n\nexport {\n  BubbleChart,\n  BubbleLabelChart,\n  BubbleLegendChart,\n  BubbleGroupedChart,\n  BubbleInteractiveChart,\n  BubbleSizeLegendChart,\n  ChartTooltip,\n  ChartLegend,\n  defaultValueFormatter,\n  COLORS,\n  CATEGORY_COLORS,\n};\n",
      "type": "registry:ui",
      "target": "components/ruixen/bubble-chart.tsx"
    }
  ]
}