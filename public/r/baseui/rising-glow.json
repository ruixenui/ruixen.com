{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "rising-glow",
  "type": "registry:ui",
  "title": "Rising Glow",
  "description": "Text wrapper with animated rising particles and soft glow effect.",
  "dependencies": [],
  "files": [
    {
      "path": "registry/ruixenui/rising-glow.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface RisingGlowProps {\n  /** Text content to wrap */\n  children: React.ReactNode;\n  /** Glow color (hex) */\n  color?: string;\n  /** Number of rising particles */\n  particleCount?: number;\n  /** Text-shadow spread radius in pixels */\n  spread?: number;\n  /** Additional CSS classes */\n  className?: string;\n}\n\ninterface Seed {\n  x: number;\n  speed: number;\n  size: number;\n  drift: number;\n  phase: number;\n  opacity: number;\n}\n\nexport function RisingGlow({\n  children,\n  color = \"#3b82f6\",\n  particleCount = 24,\n  spread = 30,\n  className,\n}: RisingGlowProps) {\n  const textRef = React.useRef<HTMLDivElement>(null);\n  const cvsRef = React.useRef<HTMLCanvasElement>(null);\n  const frameRef = React.useRef<number>(0);\n\n  const seeds = React.useMemo<Seed[]>(\n    () =>\n      Array.from({ length: particleCount }, () => ({\n        x: Math.random(),\n        speed: Math.random() * 0.2 + 0.08,\n        size: Math.random() * 2 + 1,\n        drift: (Math.random() - 0.5) * 14,\n        phase: Math.random() * Math.PI * 2,\n        opacity: Math.random() * 0.45 + 0.15,\n      })),\n    [particleCount],\n  );\n\n  React.useEffect(() => {\n    const txt = textRef.current;\n    const cvs = cvsRef.current;\n    if (!txt || !cvs) return;\n    const ctx = cvs.getContext(\"2d\");\n    if (!ctx) return;\n\n    const dpr = window.devicePixelRatio || 1;\n\n    const resize = () => {\n      const { width, height } = txt.getBoundingClientRect();\n      const totalH = height * 2;\n      cvs.width = Math.round(width * dpr);\n      cvs.height = Math.round(totalH * dpr);\n      cvs.style.width = `${width}px`;\n      cvs.style.height = `${totalH}px`;\n    };\n    resize();\n\n    const ro = new ResizeObserver(resize);\n    ro.observe(txt);\n\n    const t0 = performance.now();\n\n    const paint = (now: number) => {\n      const { width: w, height: h } = txt.getBoundingClientRect();\n      const totalH = h * 2;\n      const t = (now - t0) / 1000;\n\n      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n      ctx.clearRect(0, 0, w, totalH);\n\n      /* soft radial glow at bottom center */\n      const g = ctx.createRadialGradient(\n        w / 2,\n        totalH * 0.75,\n        0,\n        w / 2,\n        totalH * 0.75,\n        w * 0.45,\n      );\n      g.addColorStop(0, color + \"30\");\n      g.addColorStop(0.6, color + \"10\");\n      g.addColorStop(1, color + \"00\");\n      ctx.fillStyle = g;\n      ctx.fillRect(0, 0, w, totalH);\n\n      /* rising particles */\n      ctx.fillStyle = color;\n      for (const p of seeds) {\n        const progress = (t * p.speed + p.x) % 1;\n        const px = p.x * w + Math.sin(t * 0.5 + p.phase) * p.drift;\n        const py = totalH * (1 - progress);\n\n        const fadeIn = Math.min(progress * 5, 1);\n        const fadeOut = progress > 0.7 ? 1 - (progress - 0.7) / 0.3 : 1;\n        ctx.globalAlpha = p.opacity * fadeIn * fadeOut;\n\n        ctx.beginPath();\n        ctx.arc(px, py, p.size, 0, Math.PI * 2);\n        ctx.fill();\n      }\n\n      ctx.globalAlpha = 1;\n      frameRef.current = requestAnimationFrame(paint);\n    };\n\n    frameRef.current = requestAnimationFrame(paint);\n\n    return () => {\n      cancelAnimationFrame(frameRef.current);\n      ro.disconnect();\n    };\n  }, [color, seeds]);\n\n  return (\n    <div className={cn(\"relative inline-block\", className)}>\n      <canvas\n        ref={cvsRef}\n        className=\"pointer-events-none absolute inset-x-0 bottom-0\"\n      />\n      <div\n        ref={textRef}\n        className=\"relative\"\n        style={{\n          textShadow: `0 0 ${spread}px ${color}50, 0 0 ${spread * 2}px ${color}28, 0 0 ${spread * 3}px ${color}14`,\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  );\n}\n\nexport default RisingGlow;\n",
      "type": "registry:ui",
      "target": "components/ruixen/rising-glow.tsx"
    }
  ]
}