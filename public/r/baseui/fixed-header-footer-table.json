{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "fixed-header-footer-table",
  "type": "registry:ui",
  "title": "Fixed Header Footer Table",
  "description": "Glass table with sticky header and footer, spring row entrance, status dot animations, row selection, and audio feedback.",
  "dependencies": [
    "motion"
  ],
  "files": [
    {
      "path": "registry/ruixenui/fixed-header-footer-table.tsx",
      "content": "\"use client\";\n\nimport { useState, useRef } from \"react\";\nimport { motion } from \"motion/react\";\n\n/**\n * Fixed Header Footer Table — Rauno Freiberg craft.\n *\n * Glass container with sticky header and footer.\n * Scrollable body with hidden scrollbar and edge-fade mask.\n * Row click selects with spring pulse and audio tick.\n * Status dots spring-animate on mount with stagger.\n */\n\n/* ── Audio ── */\n\nlet _a: AudioContext | null = null;\nlet _b: AudioBuffer | null = null;\nfunction getCtx(): AudioContext {\n  if (!_a) _a = new (window.AudioContext || (window as unknown as { webkitAudioContext: typeof AudioContext }).webkitAudioContext)();\n  if (_a.state === \"suspended\") _a.resume();\n  return _a;\n}\nfunction getBuf(ac: AudioContext): AudioBuffer {\n  if (_b && _b.sampleRate === ac.sampleRate) return _b;\n  const len = Math.floor(ac.sampleRate * 0.003);\n  const buf = ac.createBuffer(1, len, ac.sampleRate);\n  const ch = buf.getChannelData(0);\n  for (let i = 0; i < len; i++) ch[i] = (Math.random() * 2 - 1) * (1 - i / len) ** 4;\n  _b = buf; return buf;\n}\nfunction tick(ref: React.MutableRefObject<number>) {\n  const now = performance.now();\n  if (now - ref.current < 25) return;\n  ref.current = now;\n  try { const ac = getCtx(); const s = ac.createBufferSource(); const g = ac.createGain(); s.buffer = getBuf(ac); g.gain.value = 0.06; s.connect(g).connect(ac.destination); s.start(); } catch { /* silent */ }\n}\n\n/* ── Types ── */\n\ninterface TableItem {\n  id: string;\n  name: string;\n  email: string;\n  location: string;\n  status: \"Active\" | \"Inactive\";\n  balance: number;\n}\n\ninterface FixedHeaderFooterTableProps {\n  items?: TableItem[];\n  title?: string;\n  sound?: boolean;\n}\n\n/* ── Defaults ── */\n\nconst DEFAULTS: TableItem[] = [\n  { id: \"1\", name: \"Olivia Martin\", email: \"olivia@example.com\", location: \"New York\", status: \"Active\", balance: 1200 },\n  { id: \"2\", name: \"Jackson Lee\", email: \"jackson@example.com\", location: \"London\", status: \"Active\", balance: 850 },\n  { id: \"3\", name: \"Isabella Nguyen\", email: \"isabella@example.com\", location: \"Paris\", status: \"Inactive\", balance: 320 },\n  { id: \"4\", name: \"William Chen\", email: \"william@example.com\", location: \"Tokyo\", status: \"Active\", balance: 2100 },\n  { id: \"5\", name: \"Sofia Rodriguez\", email: \"sofia@example.com\", location: \"Madrid\", status: \"Active\", balance: 1750 },\n  { id: \"6\", name: \"Liam O'Brien\", email: \"liam@example.com\", location: \"Dublin\", status: \"Inactive\", balance: 430 },\n  { id: \"7\", name: \"Emma Wilson\", email: \"emma@example.com\", location: \"Sydney\", status: \"Active\", balance: 980 },\n  { id: \"8\", name: \"Noah Kim\", email: \"noah@example.com\", location: \"Seoul\", status: \"Active\", balance: 1540 },\n  { id: \"9\", name: \"Ava Patel\", email: \"ava@example.com\", location: \"Mumbai\", status: \"Active\", balance: 670 },\n  { id: \"10\", name: \"James Brown\", email: \"james@example.com\", location: \"Toronto\", status: \"Inactive\", balance: 290 },\n];\n\n/* ── CSS ── */\n\nconst CSS = `.fht{--t-bg:rgba(255,255,255,.72);--t-border:rgba(0,0,0,.06);--t-shadow:0 0 0 .5px rgba(0,0,0,.04),0 2px 4px rgba(0,0,0,.04),0 8px 24px rgba(0,0,0,.06);--t-ink:0,0,0;--t-row:rgba(0,0,0,.015);--t-ok:#34C759;--t-dim:#FF3B30}.dark .fht,[data-theme=\"dark\"] .fht{--t-bg:rgba(30,30,32,.82);--t-border:rgba(255,255,255,.06);--t-shadow:0 0 0 .5px rgba(255,255,255,.04),0 2px 4px rgba(0,0,0,.2),0 8px 24px rgba(0,0,0,.3);--t-ink:255,255,255;--t-row:rgba(255,255,255,.02);--t-ok:#30D158;--t-dim:#FF453A}.fht-scroll{scrollbar-width:none}.fht-scroll::-webkit-scrollbar{display:none}.fht-row{transition:background .1s;cursor:pointer}.fht-row:hover{background:rgba(var(--t-ink),.03)}`;\n\nconst TH: React.CSSProperties = {\n  padding: \"10px 16px\", fontSize: 11, fontWeight: 520,\n  color: \"rgba(var(--t-ink),.4)\", letterSpacing: \"0.04em\",\n  textTransform: \"uppercase\", textAlign: \"left\", whiteSpace: \"nowrap\",\n  borderBottom: \"1px solid var(--t-border)\",\n};\n\nconst TD: React.CSSProperties = {\n  padding: \"10px 16px\", fontSize: 13, fontWeight: 420,\n  color: \"rgba(var(--t-ink),.7)\",\n  borderBottom: \"1px solid rgba(var(--t-ink),.03)\", whiteSpace: \"nowrap\",\n};\n\n/* ── Component ── */\n\nexport function FixedHeaderFooterTable({\n  items = DEFAULTS,\n  title = \"Team Members\",\n  sound = true,\n}: FixedHeaderFooterTableProps) {\n  const total = items.reduce((s, i) => s + i.balance, 0);\n  const lastSound = useRef(0);\n  const [selected, setSelected] = useState<string | null>(null);\n\n  const handleRowClick = (id: string) => {\n    setSelected((prev) => (prev === id ? null : id));\n    if (sound) tick(lastSound);\n  };\n\n  return (\n    <div className=\"fht\" style={{\n      width: \"100%\", maxWidth: 720,\n      background: \"var(--t-bg)\", border: \"1px solid var(--t-border)\",\n      boxShadow: \"var(--t-shadow)\", borderRadius: 14,\n      backdropFilter: \"blur(16px)\", WebkitBackdropFilter: \"blur(16px)\",\n      overflow: \"hidden\", display: \"flex\", flexDirection: \"column\", maxHeight: 420,\n    }}>\n      <style dangerouslySetInnerHTML={{ __html: CSS }} />\n\n      <div style={{ padding: \"12px 16px 8px\", fontSize: 13, fontWeight: 560, color: \"rgba(var(--t-ink),.85)\", letterSpacing: \"-0.01em\" }}>\n        {title}\n      </div>\n\n      <div className=\"fht-scroll\" style={{\n        flex: 1, overflow: \"auto\",\n        maskImage: \"linear-gradient(to bottom, black 0%, black 92%, transparent)\",\n        WebkitMaskImage: \"linear-gradient(to bottom, black 0%, black 92%, transparent)\",\n      }}>\n        <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\n          <thead>\n            <tr style={{ position: \"sticky\", top: 0, zIndex: 2, background: \"var(--t-bg)\", backdropFilter: \"blur(16px)\", WebkitBackdropFilter: \"blur(16px)\" }}>\n              <th style={TH}>Name</th>\n              <th style={TH}>Email</th>\n              <th style={TH}>Location</th>\n              <th style={TH}>Status</th>\n              <th style={{ ...TH, textAlign: \"right\" }}>Balance</th>\n            </tr>\n          </thead>\n          <tbody>\n            {items.map((item, i) => {\n              const isSel = item.id === selected;\n              return (\n                <motion.tr\n                  key={item.id}\n                  className=\"fht-row\"\n                  onClick={() => handleRowClick(item.id)}\n                  initial={{ opacity: 0, y: -4 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ type: \"spring\", stiffness: 400, damping: 30, delay: i * 0.025 }}\n                  style={{\n                    background: isSel ? \"rgba(var(--t-ink),.05)\" : i % 2 === 1 ? \"var(--t-row)\" : \"transparent\",\n                  }}\n                >\n                  <td style={{ ...TD, fontWeight: 500, color: \"rgba(var(--t-ink),.85)\" }}>{item.name}</td>\n                  <td style={TD}>{item.email}</td>\n                  <td style={TD}>{item.location}</td>\n                  <td style={TD}>\n                    <span style={{ display: \"inline-flex\", alignItems: \"center\", gap: 6 }}>\n                      <motion.span\n                        initial={{ scale: 0 }}\n                        animate={{ scale: 1 }}\n                        transition={{ type: \"spring\", stiffness: 500, damping: 25, delay: 0.15 + i * 0.03 }}\n                        style={{ width: 6, height: 6, borderRadius: \"50%\", background: item.status === \"Active\" ? \"var(--t-ok)\" : \"var(--t-dim)\", display: \"block\" }}\n                      />\n                      <span style={{ fontSize: 12, color: \"rgba(var(--t-ink),.5)\" }}>{item.status}</span>\n                    </span>\n                  </td>\n                  <td style={{\n                    ...TD, textAlign: \"right\", fontVariantNumeric: \"tabular-nums\",\n                    fontWeight: isSel ? 520 : 420,\n                    color: isSel ? \"rgba(var(--t-ink),.85)\" : TD.color,\n                    transition: \"font-weight .15s, color .15s\",\n                  }}>\n                    ${item.balance.toLocaleString()}\n                  </td>\n                </motion.tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n\n      <div style={{\n        display: \"flex\", justifyContent: \"space-between\", padding: \"10px 16px\",\n        borderTop: \"1px solid var(--t-border)\", background: \"var(--t-bg)\",\n        backdropFilter: \"blur(16px)\", WebkitBackdropFilter: \"blur(16px)\",\n      }}>\n        <span style={{ fontSize: 11, fontWeight: 450, color: \"rgba(var(--t-ink),.35)\" }}>{items.length} members</span>\n        <span style={{ fontSize: 12, fontWeight: 520, color: \"rgba(var(--t-ink),.65)\", fontVariantNumeric: \"tabular-nums\" }}>Total: ${total.toLocaleString()}</span>\n      </div>\n    </div>\n  );\n}\n\nexport default FixedHeaderFooterTable;\n",
      "type": "registry:ui",
      "target": "components/ruixen/fixed-header-footer-table.tsx"
    }
  ]
}