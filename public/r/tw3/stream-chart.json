{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "stream-chart",
  "type": "registry:ui",
  "title": "Stream Chart",
  "description": "A versatile stream chart component for visualizing continuous data flows over time. Includes multiple variants: wiggle (streamgraph), silhouette (centered), expanded (100% stacked), stacked (normal), interactive, and legend variants.",
  "dependencies": [
    "recharts"
  ],
  "files": [
    {
      "path": "registry/ruixenui/stream-chart.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport {\n  AreaChart,\n  Area,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ResponsiveContainer,\n  CartesianGrid,\n  Legend,\n} from \"recharts\";\n\nimport { cn } from \"@/lib/utils\";\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport interface StreamDataItem {\n  name: string;\n  [key: string]: string | number;\n}\n\nexport type TooltipIndicator = \"dot\" | \"line\" | \"dashed\";\n\nexport interface StreamChartBaseProps {\n  data: StreamDataItem[];\n  keys: string[];\n  className?: string;\n  showTooltip?: boolean;\n  tooltipIndicator?: TooltipIndicator;\n  valueFormatter?: (value: number) => string;\n}\n\n// ============================================================================\n// Color Palette (shadcn chart style - blue theme)\n// ============================================================================\n\nconst COLORS = [\n  \"#2b7fff\",\n  \"#8ec5ff\",\n  \"#1a5fd1\",\n  \"#5ba3ff\",\n  \"#0047b3\",\n  \"#b8d9ff\",\n  \"#003d99\",\n  \"#cce4ff\",\n];\n\n// ============================================================================\n// Utility Functions\n// ============================================================================\n\nfunction defaultValueFormatter(value: number): string {\n  if (Math.abs(value) >= 1000000) {\n    return `${(value / 1000000).toFixed(1)}M`;\n  }\n  if (Math.abs(value) >= 1000) {\n    return `${(value / 1000).toFixed(1)}K`;\n  }\n  return value.toLocaleString();\n}\n\nfunction getColor(index: number): string {\n  return COLORS[index % COLORS.length];\n}\n\n// ============================================================================\n// Custom Tooltip Component\n// ============================================================================\n\ninterface ChartTooltipProps {\n  active?: boolean;\n  payload?: Array<{\n    name: string;\n    value: number;\n    color: string;\n    dataKey: string;\n  }>;\n  label?: string;\n  indicator?: TooltipIndicator;\n  valueFormatter: (value: number) => string;\n}\n\nfunction ChartTooltip({\n  active,\n  payload,\n  label,\n  indicator = \"dot\",\n  valueFormatter,\n}: ChartTooltipProps) {\n  if (!active || !payload?.length) return null;\n\n  return (\n    <div className=\"rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\">\n      {label && (\n        <div className=\"mb-1.5 font-medium text-foreground\">{label}</div>\n      )}\n      <div className=\"grid gap-1.5\">\n        {payload.map((item, index) => (\n          <div\n            key={index}\n            className={cn(\n              \"flex w-full items-stretch gap-2\",\n              indicator === \"dot\" && \"items-center\",\n            )}\n          >\n            <div\n              className={cn(\"shrink-0 rounded-[2px]\", {\n                \"h-2.5 w-2.5\": indicator === \"dot\",\n                \"w-1 self-stretch\": indicator === \"line\",\n                \"w-0 border-[1.5px] border-dashed bg-transparent self-stretch\":\n                  indicator === \"dashed\",\n              })}\n              style={{\n                backgroundColor:\n                  indicator !== \"dashed\" ? item.color : undefined,\n                borderColor: indicator === \"dashed\" ? item.color : undefined,\n              }}\n            />\n            <div className=\"flex flex-1 justify-between items-center gap-4\">\n              <span className=\"text-muted-foreground\">{item.name}</span>\n              <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                {valueFormatter(item.value)}\n              </span>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n// ============================================================================\n// Legend Component\n// ============================================================================\n\ninterface ChartLegendProps {\n  keys: string[];\n  className?: string;\n}\n\nfunction ChartLegend({ keys, className }: ChartLegendProps) {\n  return (\n    <div\n      className={cn(\n        \"flex items-center justify-center gap-4 flex-wrap\",\n        className,\n      )}\n    >\n      {keys.map((key, index) => (\n        <div key={index} className=\"flex items-center gap-1.5\">\n          <div\n            className=\"h-2.5 w-2.5 shrink-0 rounded-[2px]\"\n            style={{ backgroundColor: getColor(index) }}\n          />\n          <span className=\"text-sm text-muted-foreground\">{key}</span>\n        </div>\n      ))}\n    </div>\n  );\n}\n\n// ============================================================================\n// 1. Stream Chart - Default (Wiggle/Streamgraph)\n// ============================================================================\n\ninterface StreamChartProps extends StreamChartBaseProps {\n  showXAxis?: boolean;\n  showYAxis?: boolean;\n  showGrid?: boolean;\n  stackOffset?: \"expand\" | \"none\" | \"wiggle\" | \"silhouette\";\n}\n\nfunction StreamChart({\n  data,\n  keys,\n  className,\n  showTooltip = true,\n  tooltipIndicator = \"dot\",\n  valueFormatter = defaultValueFormatter,\n  showXAxis = true,\n  showYAxis = false,\n  showGrid = false,\n  stackOffset = \"wiggle\",\n}: StreamChartProps) {\n  return (\n    <div className={cn(\"w-full\", className)}>\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <AreaChart\n          data={data}\n          stackOffset={stackOffset}\n          margin={{ top: 10, right: 10, bottom: 10, left: 10 }}\n        >\n          {showGrid && (\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"hsl(var(--border))\" />\n          )}\n          {showXAxis && (\n            <XAxis\n              dataKey=\"name\"\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n              tickMargin={8}\n            />\n          )}\n          {showYAxis && (\n            <YAxis\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n              tickFormatter={valueFormatter}\n              width={50}\n            />\n          )}\n          {showTooltip && (\n            <Tooltip\n              content={\n                <ChartTooltip\n                  indicator={tooltipIndicator}\n                  valueFormatter={valueFormatter}\n                />\n              }\n              cursor={{ stroke: \"hsl(var(--border))\", strokeDasharray: \"3 3\" }}\n            />\n          )}\n          {keys.map((key, index) => (\n            <Area\n              key={key}\n              type=\"monotone\"\n              dataKey={key}\n              stackId=\"1\"\n              stroke={getColor(index)}\n              fill={getColor(index)}\n              fillOpacity={0.8}\n              activeDot={{\n                r: 4,\n                fill: getColor(index),\n                stroke: \"#fff\",\n                strokeWidth: 2,\n                style: { filter: \"drop-shadow(0 2px 4px rgba(0,0,0,0.3))\" },\n              }}\n            />\n          ))}\n        </AreaChart>\n      </ResponsiveContainer>\n    </div>\n  );\n}\n\n// ============================================================================\n// 2. Stream Chart - Legend\n// ============================================================================\n\ninterface StreamLegendChartProps extends StreamChartBaseProps {\n  legendPosition?: \"top\" | \"bottom\";\n  showXAxis?: boolean;\n  showYAxis?: boolean;\n  showGrid?: boolean;\n  stackOffset?: \"expand\" | \"none\" | \"wiggle\" | \"silhouette\";\n}\n\nfunction StreamLegendChart({\n  data,\n  keys,\n  className,\n  showTooltip = true,\n  tooltipIndicator = \"line\",\n  valueFormatter = defaultValueFormatter,\n  legendPosition = \"bottom\",\n  showXAxis = true,\n  showYAxis = false,\n  showGrid = false,\n  stackOffset = \"wiggle\",\n}: StreamLegendChartProps) {\n  return (\n    <div className={cn(\"flex flex-col\", className)}>\n      {legendPosition === \"top\" && <ChartLegend keys={keys} className=\"pb-4\" />}\n      <div className=\"flex-1 min-h-0\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <AreaChart\n            data={data}\n            stackOffset={stackOffset}\n            margin={{ top: 10, right: 10, bottom: 10, left: 10 }}\n          >\n            {showGrid && (\n              <CartesianGrid\n                strokeDasharray=\"3 3\"\n                stroke=\"hsl(var(--border))\"\n              />\n            )}\n            {showXAxis && (\n              <XAxis\n                dataKey=\"name\"\n                tickLine={false}\n                axisLine={false}\n                tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n                tickMargin={8}\n              />\n            )}\n            {showYAxis && (\n              <YAxis\n                tickLine={false}\n                axisLine={false}\n                tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n                tickFormatter={valueFormatter}\n                width={50}\n              />\n            )}\n            {showTooltip && (\n              <Tooltip\n                content={\n                  <ChartTooltip\n                    indicator={tooltipIndicator}\n                    valueFormatter={valueFormatter}\n                  />\n                }\n                cursor={{\n                  stroke: \"hsl(var(--border))\",\n                  strokeDasharray: \"3 3\",\n                }}\n              />\n            )}\n            {keys.map((key, index) => (\n              <Area\n                key={key}\n                type=\"monotone\"\n                dataKey={key}\n                stackId=\"1\"\n                stroke={getColor(index)}\n                fill={getColor(index)}\n                fillOpacity={0.8}\n                activeDot={{\n                  r: 4,\n                  fill: getColor(index),\n                  stroke: \"#fff\",\n                  strokeWidth: 2,\n                  style: { filter: \"drop-shadow(0 2px 4px rgba(0,0,0,0.3))\" },\n                }}\n              />\n            ))}\n          </AreaChart>\n        </ResponsiveContainer>\n      </div>\n      {legendPosition === \"bottom\" && (\n        <ChartLegend keys={keys} className=\"pt-4\" />\n      )}\n    </div>\n  );\n}\n\n// ============================================================================\n// 3. Stream Chart - Expanded (100% Stacked)\n// ============================================================================\n\nfunction StreamExpandedChart({\n  data,\n  keys,\n  className,\n  showTooltip = true,\n  tooltipIndicator = \"dot\",\n  valueFormatter = defaultValueFormatter,\n}: StreamChartBaseProps) {\n  // Custom formatter for percentage\n  const percentFormatter = (value: number) => `${(value * 100).toFixed(0)}%`;\n\n  return (\n    <div className={cn(\"flex flex-col\", className)}>\n      <div className=\"flex-1 min-h-0\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <AreaChart\n            data={data}\n            stackOffset=\"expand\"\n            margin={{ top: 10, right: 10, bottom: 10, left: 10 }}\n          >\n            <CartesianGrid\n              strokeDasharray=\"3 3\"\n              stroke=\"hsl(var(--border))\"\n              vertical={false}\n            />\n            <XAxis\n              dataKey=\"name\"\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n              tickMargin={8}\n            />\n            <YAxis\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n              tickFormatter={percentFormatter}\n              width={40}\n            />\n            {showTooltip && (\n              <Tooltip\n                content={\n                  <ChartTooltip\n                    indicator={tooltipIndicator}\n                    valueFormatter={valueFormatter}\n                  />\n                }\n                cursor={{\n                  stroke: \"hsl(var(--border))\",\n                  strokeDasharray: \"3 3\",\n                }}\n              />\n            )}\n            {keys.map((key, index) => (\n              <Area\n                key={key}\n                type=\"monotone\"\n                dataKey={key}\n                stackId=\"1\"\n                stroke={getColor(index)}\n                fill={getColor(index)}\n                fillOpacity={0.8}\n                activeDot={{\n                  r: 4,\n                  fill: getColor(index),\n                  stroke: \"#fff\",\n                  strokeWidth: 2,\n                  style: { filter: \"drop-shadow(0 2px 4px rgba(0,0,0,0.3))\" },\n                }}\n              />\n            ))}\n          </AreaChart>\n        </ResponsiveContainer>\n      </div>\n      <ChartLegend keys={keys} className=\"pt-4\" />\n    </div>\n  );\n}\n\n// ============================================================================\n// 4. Stream Chart - Interactive (Hover highlight)\n// ============================================================================\n\nfunction StreamInteractiveChart({\n  data,\n  keys,\n  className,\n  showTooltip = true,\n  tooltipIndicator = \"dot\",\n  valueFormatter = defaultValueFormatter,\n}: StreamChartBaseProps) {\n  const [activeKey, setActiveKey] = React.useState<string | null>(null);\n\n  return (\n    <div className={cn(\"flex flex-col\", className)}>\n      <div className=\"flex-1 min-h-0\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <AreaChart\n            data={data}\n            stackOffset=\"wiggle\"\n            margin={{ top: 10, right: 10, bottom: 10, left: 10 }}\n          >\n            <XAxis\n              dataKey=\"name\"\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n              tickMargin={8}\n            />\n            {showTooltip && (\n              <Tooltip\n                content={\n                  <ChartTooltip\n                    indicator={tooltipIndicator}\n                    valueFormatter={valueFormatter}\n                  />\n                }\n                cursor={{\n                  stroke: \"hsl(var(--border))\",\n                  strokeDasharray: \"3 3\",\n                }}\n              />\n            )}\n            {keys.map((key, index) => (\n              <Area\n                key={key}\n                type=\"monotone\"\n                dataKey={key}\n                stackId=\"1\"\n                stroke={getColor(index)}\n                fill={getColor(index)}\n                fillOpacity={\n                  activeKey === null ? 0.8 : activeKey === key ? 1 : 0.2\n                }\n                style={{\n                  transition: \"fill-opacity 150ms\",\n                  cursor: \"pointer\",\n                }}\n                onMouseEnter={() => setActiveKey(key)}\n                onMouseLeave={() => setActiveKey(null)}\n                activeDot={{\n                  r: 4,\n                  fill: getColor(index),\n                  stroke: \"#fff\",\n                  strokeWidth: 2,\n                  style: { filter: \"drop-shadow(0 2px 4px rgba(0,0,0,0.3))\" },\n                }}\n              />\n            ))}\n          </AreaChart>\n        </ResponsiveContainer>\n      </div>\n      <ChartLegend keys={keys} className=\"pt-4\" />\n    </div>\n  );\n}\n\n// ============================================================================\n// 5. Stream Chart - Silhouette (Centered)\n// ============================================================================\n\nfunction StreamSilhouetteChart({\n  data,\n  keys,\n  className,\n  showTooltip = true,\n  tooltipIndicator = \"dashed\",\n  valueFormatter = defaultValueFormatter,\n}: StreamChartBaseProps) {\n  return (\n    <div className={cn(\"flex flex-col\", className)}>\n      <div className=\"flex-1 min-h-0\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <AreaChart\n            data={data}\n            stackOffset=\"silhouette\"\n            margin={{ top: 10, right: 10, bottom: 10, left: 10 }}\n          >\n            <XAxis\n              dataKey=\"name\"\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n              tickMargin={8}\n            />\n            {showTooltip && (\n              <Tooltip\n                content={\n                  <ChartTooltip\n                    indicator={tooltipIndicator}\n                    valueFormatter={valueFormatter}\n                  />\n                }\n                cursor={{\n                  stroke: \"hsl(var(--border))\",\n                  strokeDasharray: \"3 3\",\n                }}\n              />\n            )}\n            {keys.map((key, index) => (\n              <Area\n                key={key}\n                type=\"monotone\"\n                dataKey={key}\n                stackId=\"1\"\n                stroke={getColor(index)}\n                fill={getColor(index)}\n                fillOpacity={0.8}\n                activeDot={{\n                  r: 4,\n                  fill: getColor(index),\n                  stroke: \"#fff\",\n                  strokeWidth: 2,\n                  style: { filter: \"drop-shadow(0 2px 4px rgba(0,0,0,0.3))\" },\n                }}\n              />\n            ))}\n          </AreaChart>\n        </ResponsiveContainer>\n      </div>\n      <ChartLegend keys={keys} className=\"pt-4\" />\n    </div>\n  );\n}\n\n// ============================================================================\n// 6. Stream Chart - Stacked (Normal stacking)\n// ============================================================================\n\nfunction StreamStackedChart({\n  data,\n  keys,\n  className,\n  showTooltip = true,\n  tooltipIndicator = \"dot\",\n  valueFormatter = defaultValueFormatter,\n}: StreamChartBaseProps) {\n  return (\n    <div className={cn(\"flex flex-col\", className)}>\n      <div className=\"flex-1 min-h-0\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <AreaChart\n            data={data}\n            stackOffset=\"none\"\n            margin={{ top: 10, right: 10, bottom: 10, left: 40 }}\n          >\n            <CartesianGrid\n              strokeDasharray=\"3 3\"\n              stroke=\"hsl(var(--border))\"\n              vertical={false}\n            />\n            <XAxis\n              dataKey=\"name\"\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n              tickMargin={8}\n            />\n            <YAxis\n              tickLine={false}\n              axisLine={false}\n              tick={{ fill: \"hsl(var(--muted-foreground))\", fontSize: 12 }}\n              tickFormatter={valueFormatter}\n              width={50}\n            />\n            {showTooltip && (\n              <Tooltip\n                content={\n                  <ChartTooltip\n                    indicator={tooltipIndicator}\n                    valueFormatter={valueFormatter}\n                  />\n                }\n                cursor={{\n                  stroke: \"hsl(var(--border))\",\n                  strokeDasharray: \"3 3\",\n                }}\n              />\n            )}\n            {keys.map((key, index) => (\n              <Area\n                key={key}\n                type=\"monotone\"\n                dataKey={key}\n                stackId=\"1\"\n                stroke={getColor(index)}\n                fill={getColor(index)}\n                fillOpacity={0.8}\n                activeDot={{\n                  r: 4,\n                  fill: getColor(index),\n                  stroke: \"#fff\",\n                  strokeWidth: 2,\n                  style: { filter: \"drop-shadow(0 2px 4px rgba(0,0,0,0.3))\" },\n                }}\n              />\n            ))}\n          </AreaChart>\n        </ResponsiveContainer>\n      </div>\n      <ChartLegend keys={keys} className=\"pt-4\" />\n    </div>\n  );\n}\n\n// ============================================================================\n// Exports\n// ============================================================================\n\nexport {\n  StreamChart,\n  StreamLegendChart,\n  StreamExpandedChart,\n  StreamInteractiveChart,\n  StreamSilhouetteChart,\n  StreamStackedChart,\n  ChartTooltip,\n  ChartLegend,\n  defaultValueFormatter,\n  COLORS,\n};\n",
      "type": "registry:ui",
      "target": "components/ruixen/stream-chart.tsx"
    }
  ]
}