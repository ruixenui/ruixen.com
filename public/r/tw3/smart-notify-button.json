{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "smart-notify-button",
  "type": "registry:ui",
  "title": "Smart Notify Button",
  "description": "iOS 26 liquid-glass button with inline glass toast notification — no external toast library.",
  "dependencies": [
    "motion"
  ],
  "files": [
    {
      "path": "registry/ruixenui/smart-notify-button.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { motion, AnimatePresence } from \"motion/react\";\n\n/* ── sound ── */\nlet _a: AudioContext, _b: AudioBuffer;\nconst tick = () => {\n  if (typeof window === \"undefined\") return;\n  if (!_a) {\n    _a = new AudioContext();\n    _b = _a.createBuffer(1, (_a.sampleRate * 0.003) | 0, _a.sampleRate);\n    const d = _b.getChannelData(0);\n    for (let i = 0; i < d.length; i++)\n      d[i] = (Math.random() * 2 - 1) * (1 - i / d.length) ** 4;\n  }\n  const s = _a.createBufferSource();\n  s.buffer = _b;\n  const g = _a.createGain();\n  g.gain.value = 0.08;\n  s.connect(g).connect(_a.destination);\n  s.start();\n};\n\n/* ── theme ── */\nconst CSS = `\n.sn{\n  --sn-glass:linear-gradient(180deg,rgba(255,255,255,0.78),rgba(255,255,255,0.62));\n  --sn-border:rgba(0,0,0,0.06);\n  --sn-shadow:0 0 1px rgba(0,0,0,0.04),0 2px 8px rgba(0,0,0,0.04),inset 0 1px 0 rgba(255,255,255,0.8);\n  --sn-hi:rgba(0,0,0,0.88);\n  --sn-dim:rgba(0,0,0,0.42);\n  --sn-ok:#34C759;\n  --sn-err:#FF3B30;\n  --sn-info:#007AFF;\n  --sn-toast-shadow:0 12px 40px rgba(0,0,0,0.12),0 0 1px rgba(0,0,0,0.06)\n}\n.dark .sn,[data-theme=\"dark\"] .sn{\n  --sn-glass:linear-gradient(180deg,rgba(255,255,255,0.05),rgba(255,255,255,0.02));\n  --sn-border:rgba(255,255,255,0.07);\n  --sn-shadow:0 1px 3px rgba(0,0,0,0.08),inset 0 1px 0 rgba(255,255,255,0.04);\n  --sn-hi:rgba(255,255,255,0.88);\n  --sn-dim:rgba(255,255,255,0.28);\n  --sn-ok:#30D158;\n  --sn-err:#FF453A;\n  --sn-info:#0A84FF;\n  --sn-toast-shadow:0 12px 40px rgba(0,0,0,0.3),0 0 1px rgba(255,255,255,0.06)\n}`;\n\n/* ── icons ── */\nconst icons: Record<string, React.ReactNode> = {\n  success: (\n    <svg\n      width=\"16\"\n      height=\"16\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"var(--sn-ok)\"\n      strokeWidth=\"2.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M5 13l4 4L19 7\" />\n    </svg>\n  ),\n  error: (\n    <svg\n      width=\"16\"\n      height=\"16\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"var(--sn-err)\"\n      strokeWidth=\"2.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\n      <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\n    </svg>\n  ),\n  info: (\n    <svg\n      width=\"16\"\n      height=\"16\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"var(--sn-info)\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <circle cx=\"12\" cy=\"12\" r=\"10\" />\n      <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\" />\n      <line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\" />\n    </svg>\n  ),\n};\n\n/* ── component ── */\nexport interface SmartNotifyButtonProps {\n  label?: string;\n  message?: string;\n  description?: string;\n  type?: \"success\" | \"error\" | \"info\";\n  duration?: number;\n  sound?: boolean;\n  style?: React.CSSProperties;\n}\n\nexport default function SmartNotifyButton({\n  label = \"Notify\",\n  message = \"Notification sent\",\n  description,\n  type = \"info\",\n  duration = 3000,\n  sound = true,\n  style,\n}: SmartNotifyButtonProps) {\n  const [visible, setVisible] = React.useState(false);\n  const timerRef = React.useRef<ReturnType<typeof setTimeout>>();\n\n  const notify = () => {\n    if (sound) tick();\n    setVisible(true);\n    if (timerRef.current) clearTimeout(timerRef.current);\n    timerRef.current = setTimeout(() => setVisible(false), duration);\n  };\n\n  React.useEffect(() => {\n    return () => {\n      if (timerRef.current) clearTimeout(timerRef.current);\n    };\n  }, []);\n\n  return (\n    <>\n      <style dangerouslySetInnerHTML={{ __html: CSS }} />\n      <div className=\"sn\" style={{ position: \"relative\", ...style }}>\n        <motion.button\n          onClick={notify}\n          whileHover={{ scale: 1.04 }}\n          whileTap={{ scale: 0.96 }}\n          transition={{ type: \"spring\", stiffness: 500, damping: 30 }}\n          style={{\n            display: \"inline-flex\",\n            alignItems: \"center\",\n            gap: 6,\n            padding: \"8px 14px\",\n            borderRadius: 10,\n            border: \"1px solid var(--sn-border)\",\n            background: \"var(--sn-glass)\",\n            boxShadow: \"var(--sn-shadow)\",\n            backdropFilter: \"blur(24px)\",\n            WebkitBackdropFilter: \"blur(24px)\",\n            color: \"var(--sn-hi)\",\n            fontSize: 13,\n            fontWeight: 500,\n            cursor: \"pointer\",\n            outline: \"none\",\n            userSelect: \"none\",\n          }}\n        >\n          {/* bell icon */}\n          <svg\n            width=\"14\"\n            height=\"14\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            style={{ color: \"var(--sn-dim)\" }}\n          >\n            <path d=\"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9\" />\n            <path d=\"M13.73 21a2 2 0 0 1-3.46 0\" />\n          </svg>\n          {label}\n        </motion.button>\n\n        {/* inline glass toast */}\n        <AnimatePresence>\n          {visible && (\n            <motion.div\n              initial={{ opacity: 0, y: 8, scale: 0.95 }}\n              animate={{ opacity: 1, y: 0, scale: 1 }}\n              exit={{ opacity: 0, y: 8, scale: 0.95 }}\n              transition={{ type: \"spring\", stiffness: 500, damping: 30 }}\n              style={{\n                position: \"absolute\",\n                bottom: \"calc(100% + 8px)\",\n                left: 0,\n                minWidth: 220,\n                padding: \"10px 14px\",\n                borderRadius: 12,\n                border: \"1px solid var(--sn-border)\",\n                background: \"var(--sn-glass)\",\n                boxShadow: \"var(--sn-toast-shadow)\",\n                backdropFilter: \"blur(24px)\",\n                WebkitBackdropFilter: \"blur(24px)\",\n                zIndex: 50,\n                display: \"flex\",\n                alignItems: \"flex-start\",\n                gap: 8,\n              }}\n            >\n              <span style={{ flexShrink: 0, marginTop: 1 }}>{icons[type]}</span>\n              <span\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  gap: 2,\n                }}\n              >\n                <span\n                  style={{\n                    fontSize: 13,\n                    fontWeight: 500,\n                    color: \"var(--sn-hi)\",\n                  }}\n                >\n                  {message}\n                </span>\n                {description && (\n                  <span\n                    style={{\n                      fontSize: 12,\n                      color: \"var(--sn-dim)\",\n                    }}\n                  >\n                    {description}\n                  </span>\n                )}\n              </span>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n    </>\n  );\n}\n",
      "type": "registry:ui",
      "target": "components/ruixen/smart-notify-button.tsx"
    }
  ]
}