{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "nav-stepper",
  "type": "registry:ui",
  "title": "Nav Stepper",
  "description": "A navigable stepper with previous/next buttons. Supports numbered, dot, and bar indicator variants with inline or bottom navigation positioning.",
  "dependencies": [
    "lucide-react"
  ],
  "files": [
    {
      "path": "registry/ruixenui/nav-stepper.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport {\n  ChevronLeftIcon,\n  ChevronRightIcon,\n  CheckIcon,\n  LoaderCircleIcon,\n} from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\n\n// ============================================================================\n// Types\n// ============================================================================\n\ninterface NavStepData {\n  id: string | number;\n  label: string;\n}\n\ninterface NavStepperContextValue {\n  currentStep: number;\n  totalSteps: number;\n  goToStep: (step: number) => void;\n  goNext: () => void;\n  goPrev: () => void;\n  canGoNext: boolean;\n  canGoPrev: boolean;\n  isLoading: boolean;\n}\n\n// ============================================================================\n// Context\n// ============================================================================\n\nconst NavStepperContext = React.createContext<\n  NavStepperContextValue | undefined\n>(undefined);\n\nfunction useNavStepper() {\n  const context = React.useContext(NavStepperContext);\n  if (!context) {\n    throw new Error(\"useNavStepper must be used within a NavStepper\");\n  }\n  return context;\n}\n\n// ============================================================================\n// NavStepper - Root Container\n// ============================================================================\n\ninterface NavStepperProps extends React.HTMLAttributes<HTMLDivElement> {\n  steps: NavStepData[];\n  defaultStep?: number;\n  currentStep?: number;\n  onStepChange?: (step: number) => void;\n  loading?: boolean;\n  showNavButtons?: boolean;\n  navPosition?: \"inline\" | \"bottom\";\n  variant?: \"numbered\" | \"dots\" | \"bars\";\n}\n\nfunction NavStepper({\n  steps,\n  defaultStep = 0,\n  currentStep: controlledStep,\n  onStepChange,\n  loading = false,\n  showNavButtons = true,\n  navPosition = \"inline\",\n  variant = \"numbered\",\n  className,\n  children,\n  ...props\n}: NavStepperProps) {\n  const [internalStep, setInternalStep] = React.useState(defaultStep);\n  const currentStep = controlledStep ?? internalStep;\n  const totalSteps = steps.length;\n\n  const goToStep = React.useCallback(\n    (step: number) => {\n      const clampedStep = Math.max(0, Math.min(step, totalSteps - 1));\n      if (controlledStep === undefined) {\n        setInternalStep(clampedStep);\n      }\n      onStepChange?.(clampedStep);\n    },\n    [controlledStep, onStepChange, totalSteps],\n  );\n\n  const goNext = React.useCallback(() => {\n    goToStep(currentStep + 1);\n  }, [currentStep, goToStep]);\n\n  const goPrev = React.useCallback(() => {\n    goToStep(currentStep - 1);\n  }, [currentStep, goToStep]);\n\n  const canGoNext = currentStep < totalSteps - 1;\n  const canGoPrev = currentStep > 0;\n\n  return (\n    <NavStepperContext.Provider\n      value={{\n        currentStep,\n        totalSteps,\n        goToStep,\n        goNext,\n        goPrev,\n        canGoNext,\n        canGoPrev,\n        isLoading: loading,\n      }}\n    >\n      <div className={cn(\"w-full space-y-6\", className)} {...props}>\n        <div\n          className={cn(\n            \"flex items-center\",\n            navPosition === \"inline\" ? \"gap-2\" : \"justify-center\",\n          )}\n        >\n          {showNavButtons && navPosition === \"inline\" && (\n            <NavButton direction=\"prev\" />\n          )}\n\n          <div className=\"flex-1\">\n            {variant === \"numbered\" && (\n              <NavStepIndicators steps={steps} currentStep={currentStep} />\n            )}\n            {variant === \"dots\" && (\n              <NavDotIndicators\n                steps={steps}\n                currentStep={currentStep}\n                onStepClick={goToStep}\n              />\n            )}\n            {variant === \"bars\" && (\n              <NavBarIndicators\n                steps={steps}\n                currentStep={currentStep}\n                onStepClick={goToStep}\n              />\n            )}\n          </div>\n\n          {showNavButtons && navPosition === \"inline\" && (\n            <NavButton direction=\"next\" />\n          )}\n        </div>\n\n        {children}\n\n        {showNavButtons && navPosition === \"bottom\" && (\n          <div className=\"flex justify-center gap-4\">\n            <NavButton direction=\"prev\" showLabel />\n            <NavButton direction=\"next\" showLabel />\n          </div>\n        )}\n      </div>\n    </NavStepperContext.Provider>\n  );\n}\n\n// ============================================================================\n// NavButton - Navigation Button\n// ============================================================================\n\ninterface NavButtonProps {\n  direction: \"prev\" | \"next\";\n  showLabel?: boolean;\n}\n\nfunction NavButton({ direction, showLabel = false }: NavButtonProps) {\n  const { goNext, goPrev, canGoNext, canGoPrev, isLoading } = useNavStepper();\n\n  const isPrev = direction === \"prev\";\n  const disabled = isPrev ? !canGoPrev : !canGoNext;\n  const onClick = isPrev ? goPrev : goNext;\n  const Icon = isPrev ? ChevronLeftIcon : ChevronRightIcon;\n  const label = isPrev ? \"Previous\" : \"Next\";\n\n  if (showLabel) {\n    return (\n      <Button\n        variant=\"outline\"\n        onClick={onClick}\n        disabled={disabled || isLoading}\n        className=\"min-w-[100px]\"\n      >\n        {isPrev && <Icon className=\"mr-2 size-4\" />}\n        {isLoading && !isPrev ? (\n          <LoaderCircleIcon className=\"mr-2 size-4 animate-spin\" />\n        ) : null}\n        {label}\n        {!isPrev && !isLoading && <Icon className=\"ml-2 size-4\" />}\n      </Button>\n    );\n  }\n\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"icon\"\n      onClick={onClick}\n      disabled={disabled || isLoading}\n      className=\"shrink-0\"\n    >\n      {isLoading && !isPrev ? (\n        <LoaderCircleIcon className=\"size-4 animate-spin\" />\n      ) : (\n        <Icon className=\"size-4\" />\n      )}\n      <span className=\"sr-only\">{label}</span>\n    </Button>\n  );\n}\n\n// ============================================================================\n// NavStepIndicators - Numbered Step Indicators\n// ============================================================================\n\ninterface NavStepIndicatorsProps {\n  steps: NavStepData[];\n  currentStep: number;\n}\n\nfunction NavStepIndicators({ steps, currentStep }: NavStepIndicatorsProps) {\n  return (\n    <div className=\"flex items-center justify-between\">\n      {steps.map((step, index) => (\n        <React.Fragment key={step.id}>\n          <div className=\"flex flex-col items-center gap-2\">\n            <span\n              className={cn(\n                \"flex size-8 items-center justify-center rounded-full text-sm font-medium transition-colors\",\n                index < currentStep && \"bg-primary text-primary-foreground\",\n                index === currentStep &&\n                  \"bg-primary text-primary-foreground ring-4 ring-primary/20\",\n                index > currentStep && \"bg-muted text-muted-foreground\",\n              )}\n            >\n              {index < currentStep ? (\n                <CheckIcon className=\"size-4\" />\n              ) : (\n                index + 1\n              )}\n            </span>\n            <span\n              className={cn(\n                \"text-xs font-medium\",\n                index <= currentStep\n                  ? \"text-foreground\"\n                  : \"text-muted-foreground\",\n              )}\n            >\n              {step.label}\n            </span>\n          </div>\n          {index < steps.length - 1 && (\n            <div\n              className={cn(\n                \"mx-2 h-0.5 flex-1\",\n                index < currentStep ? \"bg-primary\" : \"bg-muted\",\n              )}\n            />\n          )}\n        </React.Fragment>\n      ))}\n    </div>\n  );\n}\n\n// ============================================================================\n// NavDotIndicators - Dot Step Indicators\n// ============================================================================\n\ninterface NavDotIndicatorsProps {\n  steps: NavStepData[];\n  currentStep: number;\n  onStepClick: (step: number) => void;\n}\n\nfunction NavDotIndicators({\n  steps,\n  currentStep,\n  onStepClick,\n}: NavDotIndicatorsProps) {\n  return (\n    <div className=\"flex items-center justify-center gap-2\">\n      {steps.map((step, index) => (\n        <button\n          key={step.id}\n          onClick={() => onStepClick(index)}\n          className={cn(\n            \"rounded-full transition-all\",\n            index === currentStep\n              ? \"size-3 bg-primary\"\n              : index < currentStep\n                ? \"size-2.5 bg-primary\"\n                : \"size-2.5 bg-muted hover:bg-muted-foreground/30\",\n          )}\n          aria-label={`Go to ${step.label}`}\n        />\n      ))}\n    </div>\n  );\n}\n\n// ============================================================================\n// NavBarIndicators - Bar Step Indicators\n// ============================================================================\n\ninterface NavBarIndicatorsProps {\n  steps: NavStepData[];\n  currentStep: number;\n  onStepClick: (step: number) => void;\n}\n\nfunction NavBarIndicators({\n  steps,\n  currentStep,\n  onStepClick,\n}: NavBarIndicatorsProps) {\n  return (\n    <div className=\"flex gap-1\">\n      {steps.map((step, index) => (\n        <button\n          key={step.id}\n          onClick={() => onStepClick(index)}\n          className={cn(\n            \"h-1.5 flex-1 rounded-full transition-colors\",\n            index <= currentStep\n              ? \"bg-primary\"\n              : \"bg-muted hover:bg-muted-foreground/30\",\n          )}\n          aria-label={`Go to ${step.label}`}\n        />\n      ))}\n    </div>\n  );\n}\n\n// ============================================================================\n// Exports\n// ============================================================================\n\nexport {\n  NavStepper,\n  NavButton,\n  NavStepIndicators,\n  NavDotIndicators,\n  NavBarIndicators,\n  useNavStepper,\n};\nexport type { NavStepData };\n",
      "type": "registry:ui",
      "target": "components/ruixen/nav-stepper.tsx"
    }
  ]
}